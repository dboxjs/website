{"version":3,"file":null,"sources":["../../../../core/lib/carto/carto.js","../../../../core/lib/chart/chart.js","../../../../bars/bars.js","../../../../heatmap/heatmap.js","../../../../radar/radar.js","../../../../scatter/scatter.js","../../../../timeline/timeline.js","../../../../treemap/treemap.js","../../../../core/index.dev.js"],"sourcesContent":["/*\n * CartoDB helper function\n */\n\nimport * as cartodb from \"cartodb\";\nexport default function carto() {\n\n  function carto(){\n\n  }\n\n  carto.query = function(config, callback){\n    //Config the cartdb User\n    var sql = new cartodb.SQL({ user: config.cartodb.user });\n    //Execute the query\n    sql.execute(config.cartodb.sql)\n      .done(function(data){\n\n        var result = data.rows;\n        //parse the data\n        if( config.parser ){\n          result = data.rows.map(config.parser)\n        }\n        //execute the callback with no error\n        callback(null, result);\n      })\n      .error(function(error){\n        //Return the error\n        callback(error, null);\n      })\n  }\n\n  return carto;\n}\n","/*\n * Dbox Chart core\n */\n\nimport carto from '../carto/carto.js';\n\nexport default function(config) {\n\n  function Chart(config){\n    var vm = this;\n    var defaultConfig = {size: {width: 800, height: 600, margin: {left: 0, right: 0, top: 0, bottom: 0}}};\n    vm._config = config ? _.cloneDeep(config) : defaultConfig;\n    vm._data = [];\n    vm._margin = vm._config.size.margin;\n\n    //Define width and height\n    vm._width = vm._config.size.width - vm._margin.left - vm._margin.right;\n    vm._height = vm._config.size.height - vm._margin.top - vm._margin.bottom;\n    vm._svg = '';\n    vm._scales ={};\n    vm._axes = {};\n\n    //Public\n    vm.layers = [];\n\n  }\n  //------------------------\n  //User\n  Chart.prototype.config = function(config){\n    var vm = this;\n    vm._config = _.cloneDeep(config);\n    return vm;\n  };\n\n  Chart.prototype.size = function(sizeObj) {\n    var vm = this;\n    if (sizeObj) {\n      if(sizeObj.margin) {\n        if(sizeObj.margin.left == Number(sizeObj.margin.left)) {\n          vm._config.size.margin.left = sizeObj.margin.left;\n          vm._margin.left = sizeObj.margin.left;\n        }\n        if(sizeObj.margin.right == Number(sizeObj.margin.right)) {\n          vm._config.size.margin.right = sizeObj.margin.right;\n          vm._margin.right = sizeObj.margin.right;\n        }\n        if(sizeObj.margin.top == Number(sizeObj.margin.top)) {\n          vm._config.size.margin.top = sizeObj.margin.top;\n          vm._margin.top = sizeObj.margin.top;\n        }\n        if(sizeObj.margin.bottom == Number(sizeObj.margin.bottom)) {\n          vm._config.size.margin.bottom = sizeObj.margin.bottom;\n          vm._margin.bottom = sizeObj.margin.bottom;\n        }\n      }\n      if(sizeObj.width == Number(sizeObj.width)) {\n        vm._config.size.width = sizeObj.width;\n        vm._width = sizeObj.width;\n      }\n      if(sizeObj.height == Number(sizeObj.height)) {\n        vm._config.size.height = sizeObj.height;\n        vm._height = sizeObj.height;\n      }\n    }\n    return vm;\n  };\n\n  Chart.prototype.grid = function(bool) {\n    var vm = this;\n    vm._config.grid = bool ? true : false;\n    return vm;\n  };\n\n  Chart.prototype.bindTo = function(selector) {\n    var vm = this;\n    vm._config.bindTo = selector;\n    return vm;\n  }\n\n  Chart.prototype.data = function(data){\n    var vm= this;\n    vm._config.data = data;\n    return vm;\n  }\n\n  Chart.prototype.layer = function(_layer, _config){\n    var vm = this;\n    var layer;\n    var config = _config ? _config : vm._config;\n    if( _layer === undefined && _layer === null){\n      //@Todo Throw Error\n    }else{\n      layer = _layer(config);\n      layer.chart(vm);\n      vm.layers.push(layer);\n      return layer;\n    }\n  }\n\n  Chart.prototype.getLayer = function(layerIndex){\n    var vm = this;\n    return vm.layers[layerIndex];\n  }\n\n  Chart.prototype.draw =function(){\n    var vm     = this, q;\n    vm._scales = vm.scales();\n    vm._axes   = vm.axes();\n\n\n\n    q = vm.loadData();\n\n    q.await(function(error,data){\n      if (error)\n        throw error;\n\n      vm._data = data;\n      vm.drawSVG();\n      \n      vm.drawGraphs();\n      vm.drawAxes();\n\n      //Trigger load chart event\n      if( vm._config.events && vm._config.events.load){\n        vm.dispatch.on(\"load.chart\", vm._config.events.load(vm));\n      }\n\n    })\n    return vm;\n  }\n\n  //----------------------\n  //Helper functions\n  Chart.prototype.scales = function(){\n    var vm = this;\n\n    var scales = {};\n\n    //xAxis scale\n    if(vm._config.xAxis && vm._config.xAxis.scale){\n      switch(vm._config.xAxis.scale){\n        case 'linear':\n          scales.x = d3.scaleLinear()\n              .range([0, vm._width]);\n        break;\n\n        case 'time':\n          scales.x = d3.scaleTime()\n              .range([0, vm._width]);\n        break;\n\n        case 'ordinal':\n          scales.x = d3.scaleOrdinal()\n            .range([0, vm._width], 0.1)\n        break;\n\n        case 'band':\n          scales.x = d3.scaleBand()\n            .rangeRound([0, vm._width])\n            .padding(0.1)\n        break;\n\n            case 'quantile':\n              scales.x = d3.scaleOrdinal()\n                .range([0, vm._width], 0.1)\n\n              scales.q = d3.scaleQuantile()\n                .range(d3.range(vm._config.xAxis.buckets) )\n            break;\n\n        default:\n          scales.x = d3.scaleLinear()\n              .range([0, vm._width]);\n        break;\n      }\n    }else{\n      scales.x = d3.scaleLinear()\n          .range([0, vm._width]);\n    }\n\n    //yAxis scale\n    if(vm._config.yAxis && vm._config.yAxis.scale){\n      switch(vm._config.yAxis.scale){\n        case 'linear':\n          scales.y = d3.scaleLinear()\n              .range([vm._height, 0]);\n        break;\n\n        case 'time':\n          scales.y = d3.scaleTime()\n              .range([vm._height, 0]);\n        break;\n\n        case 'ordinal':\n          scales.y = d3.scaleOrdinal()\n            .range([vm._height, 0], 0.1)\n        break;\n\n        case 'band':\n          scales.y = d3.scaleBand()\n            .rangeRound([vm._height, 0])\n            .padding(0.1)\n        break;\n\n        case 'quantile':\n          scales.y = d3.scaleOrdinal()\n            .range([0, vm._width], 0.1)\n\n          scales.q = d3.scaleQuantile()\n            .range(d3.range(vm._config.yAxis.buckets) )\n        break;\n\n        default:\n          scales.y = d3.scaleLinear()\n              .range([vm._height, 0]);\n        break;\n      }\n    }else{\n      scales.y = d3.scaleLinear()\n          .range([vm._height, 0]);\n    }\n\n\n    scales.color = d3.scaleOrdinal(d3.schemeCategory10);\n\n    return scales;\n  }\n\n  Chart.prototype.generateScale = function(data, config){\n    var vm = this;\n    var scale = {};\n    if(!config.range) {\n      throw 'Range is not defined';\n    }\n\n    var domains = d3.extent(data, function(d){ return +d[config.column]});\n    if(config.minZero){\n      domains = [0, d3.max(data, function(d){ return +d[config.column]})];\n    }\n    if(config.type){\n      switch(config.type){\n        case 'linear':\n          scale = d3.scaleLinear()\n            .rangeRound(config.range)\n            .domain(domains);\n        break;\n\n        case 'time':\n          scale = d3.scaleTime()\n            .range(config.range)\n            .domain(domains);\n        break;\n\n        case 'ordinal':\n          scale = d3.scaleBand()\n            .rangeRound(config.range)\n            .padding(0.1)\n            .domain(data.map(function(d){ return d[config.column]}));\n        break;\n\n        case 'quantile':\n          scale = d3.scaleBand()\n            .rangeRound(config.range)\n            .padding(0.1)\n            .domain(data.map(function(d){ return d[config.column]}));\n          if(!config.bins)\n            config.bins = 10;\n          scale = d3.scaleQuantile()\n            .range(d3.range(config.bins))\n        break;\n\n        default:\n          scale = d3.scaleLinear()\n            .rangeRound(config.range)\n            .domain(domains);\n        break;\n      }\n    }else{\n      scale = d3.scaleLinear()\n            .rangeRound(config.range)\n            .domain(domains);\n    }\n\n    return scale;\n  }\n\n  Chart.prototype.axes = function(){\n    var vm = this, axes={};\n\n    axes.x = d3.axisBottom(vm._scales.x);\n    axes.y = d3.axisLeft(vm._scales.y);\n\n    if(vm._config.yAxis && vm._config.yAxis.ticks\n        && vm._config.yAxis.ticks.enabled === true && vm._config.yAxis.ticks.style ){\n\n      switch(vm._config.yAxis.ticks.style){\n        case 'straightLine':\n          axes.y\n            .tickSize(-vm._width,0);\n        break;\n      }\n    }\n\n    if( vm._config.yAxis && vm._config.yAxis.ticks && vm._config.yAxis.ticks.format){\n      axes.y.tickFormat(vm._config.yAxis.ticks.format);\n    }\n    return axes;\n  }\n\n\n\n  Chart.prototype.loadData = function(){\n    var vm = this;\n    var q;\n\n    if(vm._config.data.tsv){\n      q = d3.queue()\n            .defer(d3.tsv, vm._config.data.tsv);\n    }\n\n    if(vm._config.data.json){\n      q = d3.queue()\n            .defer(d3.json, vm._config.data.json);\n    }\n\n    if(vm._config.data.csv){\n      q = d3.queue()\n            .defer(d3.csv, vm._config.data.csv);\n    }\n\n    if(vm._config.data.raw){\n      q = d3.queue()\n            .defer(vm.mapData, vm._config.data.raw);\n    }\n\n    if(vm._config.data.cartodb){\n      q = d3.queue()\n            .defer(carto.query,vm._config.data)\n    }\n\n\n    if(vm._config.plotOptions && vm._config.plotOptions.bars\n      && vm._config.plotOptions.bars.averageLines && Array.isArray(vm._config.plotOptions.bars.averageLines)\n      && vm._config.plotOptions.bars.averageLines.length >0 ){\n\n      vm._config.plotOptions.bars.averageLines.forEach(function(l){\n        if(l.data.cartodb){\n          q.defer(carto.query, l.data)\n        }\n      })\n    }\n\n    return q;\n  }\n\n  Chart.prototype.drawSVG = function(){\n    var vm = this;\n\n    //Remove any previous svg\n    d3.select(vm._config.bindTo).select('svg').remove();\n    d3.select(vm._config.bindTo).html('');\n\n    //Add the css template class\n    if(vm._config.template){\n      d3.select(vm._config.bindTo).classed(vm._config.template, true)\n    }\n\n    //Add title to the chart\n    if(vm._config.chart && vm._config.chart.title){\n      d3.select(vm._config.bindTo).append(\"div\")\n        .attr(\"class\", \"chart-title\")\n        .html(vm._config.chart.title)\n    }\n\n    //Add Legend to the chart\n    //@TODO - PASS THE STYLES TO DBOX.CSS\n    //@TODO - ALLOW DIFFERENT POSSITIONS FOR THE LEGEND\n    if(vm._config.legend && vm._config.legend.enable === true && vm._config.legend.position === 'top'){\n      var legend = d3.select(vm._config.bindTo).append(\"div\")\n        .attr(\"class\", \"chart-legend-top\");\n\n      var html = '';\n      html+=\"<div style='background-color:#E2E2E1;text-align:center;height: 40px;margin: 0px 15px'>\";\n      vm._config.legend.categories.forEach(function(c){\n        html+=\"<div class='dbox-legend-category-title' style='margin:0 20px;'><span class='dbox-legend-category-color' style='background-color:\"+c.color+\";'> </span><span style='height: 10px;float: left;margin: 10px 5px 5px 5px;border-radius: 50%;'>\"+c.title+\"</span></div>\";\n      })\n      html+=\"</div>\";\n      legend.html(html)\n    }\n\n\n    //Create the svg\n    vm._svg = d3.select(vm._config.bindTo).append(\"svg\")\n      .style(\"font-size\", vm._config.chart ? vm._config.chart['font-size'] ? vm._config.chart['font-size'] : '12px' : '12px'  )\n      .attr(\"width\", vm._width + vm._margin.left + vm._margin.right)\n      .attr(\"height\", vm._height + vm._margin.top + vm._margin.bottom)\n      .append(\"g\")\n      .attr(\"transform\", \"translate(\" + vm._margin.left + \",\" + vm._margin.top + \")\")\n      \n\n    //Call the tip function\n    /*if(vm._config.data.tip){\n      vm._svg.call(vm._tip);\n    }*/\n\n    //Apply background color\n    if(vm._config.chart && vm._config.chart.background && vm._config.chart.background.color){\n      d3.select(vm._config.bindTo+\" svg\").style('background-color', vm._config.chart.background.color )\n    }\n\n    var legendBottom = d3.select(vm._config.bindTo).append(\"div\")\n        .attr(\"class\", \"chart-legend-bottom\");\n    //Legend for average lines\n    /*\n    if(vm._config.plotOptions && vm._config.plotOptions.bars\n      && vm._config.plotOptions.bars.averageLines && Array.isArray(vm._config.plotOptions.bars.averageLines)\n      && vm._config.plotOptions.bars.averageLines.length >0 ){\n\n      d3.select(vm._config.bindTo).append(\"div\")\n        .attr(\"class\", \"container-average-lines\")\n        .append('div')\n          .attr(\"class\", \"legend-average-lines\")\n        .html('Average Lines Controller')\n    }\n    */\n\n  }\n\n  Chart.prototype.drawGrid = function() {\n    var vm = this;\n    return vm;\n  };\n\n  Chart.prototype.drawAxes = function(){\n    var vm = this;\n    var xAxis, yAxis;\n\n    if(!vm._config.xAxis || ( vm._config.xAxis && vm._config.xAxis.enabled !== false ) ){\n      xAxis = vm._svg.append(\"g\")\n        .attr(\"class\", \"x axis\")\n        .attr(\"transform\", \"translate(0,\" + vm._height + \")\")\n        .call(vm._axes.x);\n    }\n\n    if(!vm._config.yAxis || ( vm._config.yAxis && vm._config.yAxis.enabled !== false ) ){\n      yAxis = vm._svg.append(\"g\")\n        .attr(\"class\", \"y axis\")\n        .call(vm._axes.y);\n    }\n\n    /*xAxis.selectAll('text')\n      .on(\"click\",function(d,i){\n        vm._config.xAxis.onclick.call(this, d, i);\n      });*/\n\n    if(vm._config.xAxis && vm._config.xAxis.text){\n      xAxis.append(\"text\")\n        .attr(\"class\", \"label title\")\n        .attr(\"x\", vm._width/2)\n        .attr(\"y\",  vm._config.xAxis.y ? vm._config.xAxis.y : 30)\n        .style(\"text-anchor\", \"middle\")\n        .style(\"fill\", vm._config.xAxis.fill ? vm._config.xAxis.fill : 'black' )\n        .style(\"font-size\", vm._config.xAxis['font-size'] ? vm._config.xAxis['font-size'] : '12px' )\n        .style(\"font-weight\", vm._config.xAxis['font-weight'] ? vm._config.xAxis['font-weight'] : '600' )\n        .text(vm._config.xAxis.text);\n    }\n\n    if(vm._config.xAxis && vm._config.xAxis.dropdown && vm._config.xAxis.dropdown.enable === true){\n      var xAxisDropDown = d3.select(vm._config.bindTo).append(\"div\").attr('class','dbox-xAxis-select')\n                            .append(\"select\")\n                            .on(\"change\", function(){\n                              vm.updateAxis('x', this.value)\n                            });\n\n      xAxisDropDown.selectAll(\"option\")\n        .data(vm._config.xAxis.dropdown.options)\n        .enter().append(\"option\")\n        .attr(\"value\", function (d) { return d.value; })\n        .text(function (d) { return d.title; })\n        .property(\"selected\", function(d){ return d.selected  })\n\n    }\n\n    if(vm._config.yAxis && vm._config.yAxis.enabled !== false){\n\n      if(vm._config.yAxis && vm._config.yAxis.text){\n        yAxis.append(\"text\")\n          .attr(\"class\", \"label title\")\n          .attr(\"transform\", \"rotate(-90)\")\n          .attr(\"y\", vm._config.yAxis.y ? vm._config.yAxis.y : -50)\n          .attr(\"x\", -150)\n          .attr(\"dy\", \".71em\")\n          .style(\"text-anchor\", \"middle\")\n          .style(\"fill\", vm._config.yAxis.fill ? vm._config.yAxis.fill : 'black' )\n          .style(\"font-size\", vm._config.yAxis['font-size'] ? vm._config.yAxis['font-size'] : '12px' )\n          .style(\"font-weight\", vm._config.xAxis['font-weight'] ? vm._config.xAxis['font-weight'] : '600' )\n          .text(vm._config.yAxis.text);\n      }\n    }\n\n    if(vm._config.yAxis && vm._config.yAxis.dropdown && vm._config.yAxis.dropdown.enable === true){\n      var yAxisDropDown = d3.select(vm._config.bindTo).append(\"div\").attr('class','dbox-yAxis-select')\n                            .attr('style', function(){\n                              var x = -1*d3.select(vm._config.bindTo).node().getBoundingClientRect().width/2+ vm._chart._margin.left/4;\n                              var y = -1*d3.select(vm._config.bindTo).node().getBoundingClientRect().height/2;\n                              return 'transform: translate('+x+'px,'+y+'px) rotate(-90deg);'\n                            })\n                            .append(\"select\")\n                            .on(\"change\", function(){\n                              vm.updateAxis('y', this.value)\n                            });\n\n      yAxisDropDown.selectAll(\"option\")\n        .data(vm._config.yAxis.dropdown.options)\n        .enter().append(\"option\")\n        .attr(\"value\", function (d) { return d.value; })\n        .text(function (d) { return d.title; })\n        .property(\"selected\", function(d){ return d.selected  })\n\n    }\n\n  }\n\n  Chart.prototype.drawGraphs = function(){\n    var vm = this;\n    vm.layers.forEach(function(gr){\n      gr.data(vm._data)\n        .scales(vm._scales)\n        .axes(vm._axes)\n        .domains()\n        .draw();\n\n      //@TODO validate domains from multiple layers\n      vm._scales = gr._scales;\n    })\n  }\n\n  Chart.prototype.dispatch = d3.dispatch(\"load\", \"change\");\n\n  Chart.prototype.mapData  =  function (data, callback){\n    callback(null, data);\n  }\n\n  Chart.prototype.getDomains = function(data){\n    var vm = this;\n\n    var domains = {};\n    var minMax = [];\n      var sorted = '';\n\n\n      //Default ascending function\n      var sortFunctionY = function(a, b) { return d3.ascending(a.y,b.y); };\n      var sortFunctionX = function(a, b) { return d3.ascending(a.x,b.x); };\n\n\n      //if applying sort\n      if(vm._config.data.sort && vm._config.data.sort.order){\n        switch(vm._config.data.sort.order){\n          case 'asc':\n            sortFunctionY = function(a, b) { return d3.ascending(a.y,b.y); };\n            sortFunctionX = function(a, b) { return d3.ascending(a.x,b.x); };\n          break;\n\n          case 'desc':\n            sortFunctionY = function(a, b) { return d3.descending(a.y,b.y); };\n            sortFunctionX = function(a, b) { return d3.descending(a.x,b.x); };\n          break;\n        }\n      }\n\n\n    //xAxis\n    if(vm._config.xAxis && vm._config.xAxis.scale){\n      switch(vm._config.xAxis.scale){\n        case 'linear':\n          minMax = d3.extent(data, function(d) { return d.x; })\n          domains.x = minMax;\n        break;\n\n        case 'time':\n              minMax = d3.extent(data, function(d) { return d.x; })\n              domains.x = minMax;\n        break;\n\n        case 'ordinal':\n\n              //If the xAxis' order depends on the yAxis values\n              if(vm._config.data.sort && vm._config.data.sort.axis === 'y'){\n                sorted = data.sort(sortFunctionY);\n              }else {\n                sorted = data.sort(sortFunctionX);\n              }\n\n              domains.x = [];\n              sorted.forEach(function(d){\n                domains.x.push(d.x);\n              })\n\n        break;\n\n            case 'quantile':\n\n              //The xAxis order depends on the yAxis values\n              if(vm._config.data.sort && vm._config.data.sort.axis === 'y'){\n                sorted = data.sort(sortFunctionY);\n              }else {\n                sorted = data.sort(sortFunctionX);\n              }\n\n              domains.q = [];\n              sorted.forEach(function(d){\n                domains.q.push(d.x);\n              })\n\n              domains.x = d3.range(vm._config.xAxis.buckets);\n\n            break;\n\n\n        default:\n          minMax = d3.extent(data, function(d) { return d.x; })\n          domains.x = minMax;\n        break;\n      }\n    }else{\n      minMax = d3.extent(data, function(d) { return d.x; })\n      domains.x = minMax;\n    }\n\n    //yAxis\n    if(vm._config.yAxis && vm._config.yAxis.scale){\n      switch(vm._config.yAxis.scale){\n        case 'linear':\n          minMax = d3.extent(data, function(d) { return d.y; })\n\n          //Adjust for min values greater than zero\n          //set the min value to -10%\n          if(minMax[0] > 0 ){\n            minMax[0] = minMax[0] - (minMax[1]- minMax[0])*.1\n          }\n          domains.y = minMax;\n        break;\n\n        case 'time':\n          minMax = d3.extent(data, function(d) { return d.y; })\n                domains.y = minMax;\n        break;\n\n        case 'ordinal':\n              if(vm._config.data.sort && vm._config.data.sort.axis === 'y'){\n\n                var sorted = data.sort(function(a, b) { return d3.ascending(a.y,b.y); });\n                domains.y = [];\n                sorted.forEach(function(d){\n                  domains.y.push(d.x);\n                })\n\n              }else{\n                domains.y = d3.map(data, function(d) {\n                  return d.y;\n                }).keys().sort(function(a, b) { return d3.ascending(a,b); });\n              }\n\n        break;\n\n        default:\n          minMax = d3.extent(data, function(d) { return d.y; })\n          domains.y = minMax;\n        break;\n      }\n    }else{\n      minMax = d3.extent(data, function(d) { return d.y; })\n      domains.y = minMax;\n    }\n\n\n    return domains;\n  }\n\n  Chart.prototype.destroy = function(){\n    var vm = this;\n    d3.select(vm._config.bindTo).html(\"\");\n  }\n\n  return new Chart(config);\n}\n","/*\n * Simple Bar chart\n */\nexport default function(config) {\n\n  function Bars(config) {\n    var vm = this;\n    vm._config = config ? config : {};\n    vm._data = [];\n    vm._config.colorScale = d3.schemeCategory20c;\n    vm._config._format = function(d){\n      if(d % 1 == 0){\n        return d3.format(\",.0f\")(d);\n      } else if(d < 1 && d > 0) {\n        return d3.format(\",.2f\")(d);\n      } else {\n        return d3.format(\",.1f\")(d);\n      }\n    };\n    vm._scales = {};\n    vm._axes = {};\n    //vm._tip = d3.tip().attr('class', 'd3-tip tip-bars').html(vm._config.data.tip || function(d){ return d;});\n    vm._tip = d3.tip()\n      .attr('class', 'd3-tip tip-treemap')\n      .direction('n')\n      .html(vm._config.tip || function(d){ return vm._config._format(d[vm._config.y])});\n  }\n\n  //-------------------------------\n  //User config functions\n  Bars.prototype.x = function(columnName) {\n    var vm = this;\n    vm._config.x = columnName;\n    return vm;\n  }\n\n  Bars.prototype.y = function(columnName) {\n    var vm = this;\n    vm._config.y = columnName;\n    return vm;\n  }\n\n  Bars.prototype.color = function(columnName) {\n    var vm = this;\n    vm._config.color = columnName;\n    return vm;\n  }\n\n  Bars.prototype.end = function() {\n    var vm = this;\n    return vm._chart;\n  }\n\n  Bars.prototype.colorScale = function(colorScale) {\n    var vm = this;\n    if(Array.isArray(colorScale)) {\n      vm._config.colorScale = colorScale;\n    } else {\n      vm._scales.color = colorScale;\n      vm._config.colorScale = colorScale.range();\n    }\n    return vm;\n  }\n\n  Bars.prototype.format = function(format) {\n    var vm = this;\n    if (typeof format == 'function' || format instanceof Function)\n      vm._config._format = format;\n    else\n      vm._config._format = d3.format(format);\n    return vm;\n  }\n\n  //-------------------------------\n  //Triggered by the chart.js;\n  Bars.prototype.chart = function(chart) {\n    var vm = this;\n    vm._chart = chart;\n    return vm;\n  }\n\n  Bars.prototype.data = function(data) {\n    var vm = this;\n    vm._data = data.map(function(d) {\n      if(d[vm._config.x] == Number(d[vm._config.x]))\n        d[vm._config.x] = +d[vm._config.x];\n      if(d[vm._config.y] == Number(d[vm._config.y]))\n        d[vm._config.y] = +d[vm._config.y];\n      return d;\n    });\n    return vm;\n  }\n\n  Bars.prototype.scales = function(s) {\n    var vm = this;\n    //vm._scales = s;\n    /* Use\n    * vm._config.x\n    * vm._config.xAxis.scale\n    * vm._config.y\n    * vm._config.yAxis.scale\n    * vm._data\n    */\n    /* Generate x scale */\n    var config = {\n        column: vm._config.x,\n        type: vm._config.xAxis.scale,\n        range: [0, vm._chart._width],\n        minZero: true\n    };\n    vm._scales.x = vm._chart.generateScale(vm._data, config);\n\n    /* Generate y scale */\n    config = {\n        column: vm._config.y,\n        type: vm._config.yAxis.scale,\n        range: [vm._chart._height, 0],\n        minZero: true\n    };\n    vm._scales.y = vm._chart.generateScale(vm._data, config);\n    vm._chart._scales.x = vm._scales.x;\n    vm._chart._scales.y = vm._scales.y;\n\n    if(!vm._scales.color)\n      vm._scales.color = d3.scaleOrdinal(vm._config.colorScale);\n    return vm;\n  }\n\n  Bars.prototype.axes = function(a) {\n    var vm = this;\n    vm._axes = a;\n    return vm;\n  }\n\n  Bars.prototype.domains = function() {\n    var vm = this;\n    return vm;\n  };\n\n  Bars.prototype.draw = function() {\n    var vm = this;\n    vm._chart._svg.call(vm._tip);\n\n    /*if(vm._config.xAxis.enabled) {\n       vm._chart._svg.append(\"g\")\n          .attr(\"class\", \"xAxis axis\")\n          .attr(\"transform\", \"translate(0,\" + vm._chart._height + \")\")\n          .call(d3.axisBottom(vm._scales.x)\n            .tickValues(vm._config.xAxis.tickValues)\n            .tickFormat(vm._config.xAxis.tickFormat)\n          );\n        //vm._chart._svg.selectAll(\".xAxis.axis text\").attr(\"transform\", \"translate(0,10)rotate(-20)\");\n    }*/\n\n    /*if(vm._config.yAxis.enabled) {\n      if(vm._config.yAxis.position == 'right') {\n        var yAxis = d3.axisRight(vm._scales.y)\n              .ticks(vm._config.yAxis.ticks)\n              .tickValues(vm._config.yAxis.tickValues)\n              .tickFormat(vm._config.yAxis.tickFormat);\n      } else {\n        var yAxis = d3.axisLeft(vm._scales.y)\n              .ticks(vm._config.yAxis.ticks)\n              .tickValues(vm._config.yAxis.tickValues)\n              .tickFormat(vm._config.yAxis.tickFormat);\n      }\n      var axisY = vm._chart._svg.append(\"g\")\n          .attr(\"class\", \"yAxis axis\");\n      if(vm._config.yAxis.position == 'right')\n        axisY.attr(\"transform\", \"translate(\" + vm._chart._width + \",0)\");\n      axisY.call(yAxis);\n        /*\n        Axis Title\n        .append(\"text\")\n          .attr(\"transform\", \"rotate(-90)\")\n          .attr(\"y\", 6)\n          .attr(\"dy\", \"0.71em\")\n          .attr(\"text-anchor\", \"end\")\n          .text(\"Frequency\");\n        \n  }*/\n\n    vm._chart._svg.selectAll(\".bar\")\n        .data(vm._data)\n        .enter().append(\"rect\")\n          .attr(\"class\", \"bar\")\n          .attr(\"x\", function(d) { return vm._config.xAxis.scale == 'linear' && vm._config.yAxis.scale == 'linear'? 0 : vm._scales.x(d[vm._config.x]); })\n          .attr(\"y\", function(d) { return vm._scales.y(d[vm._config.y]);})\n          .attr(\"width\", function(d){ return vm._scales.x.bandwidth ? vm._scales.x.bandwidth() : vm._scales.x(d[vm._config.x]) })\n          .attr(\"height\", function(d) { return vm._chart._height - vm._scales.y(d[vm._config.y]); })\n          .attr(\"fill\", function(d){ return vm._scales.color(d[vm._config.color])})\n          .style(\"opacity\", 0.9)\n          .on('mouseover', function(d) {\n            vm._tip.show(d, d3.select(this).node());\n          })\n          .on('mouseout', function() {\n            vm._tip.hide();\n          })\n          .on('click', function() {\n\n          });\n    return vm;\n  }\n\n  return new Bars(config);\n}\n","/*\n * Heatmap Chart\n */\n\nexport default function(config) {\n\n  function Heatmap(config){\n    var vm = this;\n    vm._config = config ? config : {};\n    vm._data = [];\n    vm._scales ={};\n    vm._axes = {};\n    vm._gridSize = Math.floor(vm._config.size.width / 16);\n    vm._legendElementWidth = vm._gridSize;\n\n    vm._config._format     = d3.format(\",.1f\");\n\n    vm._tip = d3.tip().attr('class', 'd3-tip');\n  }\n\n  //-------------------------------\n  //User config functions\n  Heatmap.prototype.x = function(columns){\n    var vm = this;\n    vm._config.x = columns;\n    return vm;\n  }\n\n  Heatmap.prototype.y = function(columns){\n    var vm = this;\n    vm._config.y = columns;\n    return vm;\n  }\n\n  Heatmap.prototype.colors = function(colors){\n    var vm = this;\n    vm._config.colors = colors;\n    return vm;\n  }\n\n  Heatmap.prototype.tip = function(tip){\n    var vm = this;\n    vm._config.tip = tip;\n    vm._tip.html(vm._config.tip);\n    return vm;\n  }\n\n  Heatmap.prototype.buckets = function(b){\n    var vm = this;\n    vm._config.buckets = buckets;\n    return vm;\n  }\n\n  Heatmap.prototype.end = function(){\n    var vm = this;\n    return vm._chart;\n  }\n\n  //-------------------------------\n  //Triggered by the chart.js;\n  Heatmap.prototype.chart = function(chart){\n    var vm = this;\n    vm._chart = chart;\n    return vm;\n  }\n\n  Heatmap.prototype.data = function(data){\n    var vm = this;\n    vm._data = data.map(function(d){\n      var m = {\n        y: d.edad_mujer,\n        x: d.edad_hombre,\n        value: +d.tot,\n        percentage : +d.por,\n      };\n      return m;\n    });\n    return vm;\n  }\n\n  Heatmap.prototype.scales = function(s){\n    var vm = this;\n    vm._scales = s;\n    return vm;\n  }\n\n  Heatmap.prototype.axes = function(a){\n    var vm = this;\n    vm._axes = a;\n    return vm;\n  }\n\n  Heatmap.prototype.domains = function(){\n    var vm = this;\n    return vm;\n  };\n\n  Heatmap.prototype.draw = function(){\n    var vm = this;\n\n    //Call the tip\n    vm._chart._svg.call(vm._tip)\n\n    if(vm._config.xAxis){\n      vm._config.xAxis.y =  vm._config.y.length * vm._gridSize+25;\n    }else{\n      vm._config.xAxis = { 'y' : vm._config.y.length * vm._gridSize };\n    }\n\n    vm._dayLabels = vm._chart._svg.selectAll(\".dayLabel\")\n          .data(vm._config.y)\n          .enter().append(\"text\")\n            .text(function (d) { return d; })\n            .attr(\"x\", 0)\n            .attr(\"y\", function (d, i) { return i * vm._gridSize; })\n            .style(\"text-anchor\", \"end\")\n            .attr(\"transform\", \"translate(-6,\" + vm._gridSize / 1.5 + \")\")\n            .attr(\"class\", \"dayLabel mono axis\");\n            //.attr(\"class\", function (d, i) { return ((i >= 0 && i <= 4) ? \"dayLabel mono axis axis-workweek\" : \"dayLabel mono axis\"); });\n\n    vm._timeLabels = vm._chart._svg.selectAll(\".timeLabel\")\n        .data(vm._config.x)\n        .enter().append(\"text\")\n          .text(function(d) { return d; })\n          .attr(\"x\", function(d, i) { return i * vm._gridSize; })\n          .attr(\"y\", vm._config.xAxis.y)\n          .style(\"text-anchor\", \"middle\")\n          .attr(\"transform\", \"translate(\" + vm._gridSize / 2 + \", -6)\")\n          .attr(\"class\", \"timeLabel mono axis\");\n          //.attr(\"class\", function(d, i) { return ((i >= 7 && i <= 16) ? \"timeLabel mono axis axis-worktime\" : \"timeLabel mono axis\"); });\n\n\n    var colorScale = d3.scaleQuantile()\n        .domain([0, d3.max(vm._data, function (d) { return d.value; })])\n        .range(vm._config.colors);\n\n    var cards = vm._chart._svg.selectAll(\".hour\")\n        .data(vm._data, function(d) {\n          return d.y+':'+d.x;\n        });\n\n    cards.enter().append(\"rect\")\n        .attr(\"x\", function(d) { return (vm._config.x.indexOf(d.x) ) * vm._gridSize; })\n        .attr(\"y\", function(d) { return (vm._config.y.indexOf(d.y)) * vm._gridSize; })\n        .attr(\"rx\", 4)\n        .attr(\"ry\", 4)\n        .attr(\"class\", \"hour bordered\")\n        .attr(\"id\", function(d){ return 'x' + d.x + 'y' + d.y;})\n        .attr(\"width\", vm._gridSize)\n        .attr(\"height\", vm._gridSize)\n        .on('mouseover', function(d,i){\n          /*if(vm._config.data.mouseover){\n            vm._config.data.mouseover.call(vm, d,i);\n          }*/\n          vm._tip.show(d, d3.select(this).node());\n        })\n        .on('mouseout', function(d,i){\n          /*if(vm._config.data.mouseout){\n            vm._config.data.mouseout.call(this, d,i);\n          }*/\n          vm._tip.hide(d, d3.select(this).node());\n        })\n        .on(\"click\", function(d,i){\n          if(vm._config.data.onclick){\n            vm._config.data.onclick.call(this, d, i);\n          }\n        })\n        .style(\"fill\", vm._config.colors[0])\n      .transition()\n        .duration(3000)\n        .ease(d3.easeLinear)\n        .style(\"fill\", function(d) { return colorScale(d.value); });\n\n\n  /*\n    var legend = vm._chart._svg.selectAll(\".legend\")\n        .data([0].concat(colorScale.quantiles()), function(d) { return d; });\n\n    var lgroup = legend.enter().append(\"g\")\n        .attr(\"class\", \"legend\");\n\n    lgroup.append(\"rect\")\n        .attr(\"x\", function(d, i) {  return vm._legendElementWidth * i; })\n        .attr(\"y\", vm._config.size.height - vm._config.size.margin.bottom*2)\n        .attr(\"width\", vm._legendElementWidth)\n        .attr(\"height\", vm._gridSize / 2)\n        .style(\"fill\", function(d, i) { return vm._config.colors[i]; });\n\n    lgroup.append(\"text\")\n        .attr(\"class\", \"mono\")\n        .text(function(d) { return \"â‰¥ \" + Math.round(d); })\n        .attr(\"x\", function(d, i) { return vm._legendElementWidth * i; })\n        .attr(\"y\", vm._config.size.height - vm._config.size.margin.bottom*2 + vm._gridSize);\n\n    legend.exit().remove();*/\n    return vm;\n  }\n\n  return new Heatmap(config);\n}\n","/*\n * Build a radar chart.\n */\n\nexport default function(config) {\n  function Radar(config) {\n    var vm = this, size;\n\n    vm.CIRCLE_RADIANS = 2 * Math.PI;\n\n    // The first axis must be at the circle's top.\n    vm.RADIANS_TO_ROTATE = vm.CIRCLE_RADIANS / -4;\n\n    vm._config = config ? config : {};\n    vm._data = [];\n    vm._scales = {};\n    vm._axes = {};\n    vm._axesData = {};\n    vm._filter = null;\n    vm._minMax = [0, 0];\n    vm._viewData = [];\n    vm._colorMap = {};\n    vm._ticks = 0;\n    vm._scale = null;\n    vm._excludedPolygons = [];\n\n    // Set defaults.\n    if(!vm._config.ticks) {\n      vm._config.ticks = 10;\n    }\n\n    if(!vm._config.transitionDuration) {\n      vm._config.transitionDuration = 400;\n    }\n\n    if(!vm._config.axisLabelMargin) {\n      vm._config.axisLabelMargin = 24;\n    }\n\n    if(!vm._config.legend) {\n      vm._config.legend = {\n        enable: true\n      };\n    }\n\n    if(!vm._config.legend.at) {\n      vm._config.legend.at = {\n        x: 20,\n        y: 20\n      };\n    }\n\n    if('undefined' == typeof vm._config.styleDefaults) {\n      vm._config.styleDefaults = true;\n    }\n\n    // Calculate basic data.\n    size = vm._config.size;\n\n    vm._center = {\n      x: (size.width / 2) - size.margin.left,\n      y: (size.height / 2) - size.margin.top\n    };\n\n    vm._radius = Math.min(\n      (size.width - size.margin.left - size.margin.right) / 2,\n      (size.height - size.margin.top - size.margin.bottom) / 2\n    );\n  }\n\n  // User API.\n\n  Radar.prototype.polygonsFrom = function(column) {\n    var vm = this;\n    vm._config.polygonsFrom = column;\n    return vm;\n  };\n\n  Radar.prototype.axesFrom = function(column) {\n    var vm = this;\n    vm._config.axesFrom = column;\n    return vm;\n  };\n\n  Radar.prototype.valuesFrom = function(column) {\n    var vm = this;\n    vm._config.valuesFrom = column;\n    return vm;\n  };\n\n  Radar.prototype.ticks = function(ticks) {\n    var vm = this;\n    vm._config.ticks = ticks;\n    return vm;\n  };\n\n  Radar.prototype.colors = function(colors) {\n    var vm = this;\n    vm._config.colors = colors;\n    return vm;\n  };\n\n  Radar.prototype.end = function() {\n    var vm = this;\n    return vm._chart;\n  };\n\n  // Internal helpers.\n\n  Radar.prototype.drawTicks = function() {\n    var vm = this,\n      svg = vm._chart._svg,\n      dur = vm._config.transitionDuration,\n      sel;\n\n    sel = svg.select('g.ticks');\n\n    if(sel.empty()) {\n      sel = svg.append('g').attr('class', 'ticks');\n    }\n\n    sel = sel.selectAll('circle.tick')\n      .data(\n        // Add an explicit index for keying the chart with their original array\n        // indexes, then reverse it so rendering occurs from bigger to smaller\n        // circles, allowing to set a fill color to the concentric cirlces\n        // without getting the more external cirlce capping all the others.\n        vm._ticks.map((val, idx) => [idx, val]).reverse(),\n        d => d[0]);\n\n    sel\n      .transition()\n      .duration(dur)\n      .attr('r', function(d) { return vm._scale(d[1]); });\n\n    sel.enter()\n      .append('circle')\n      .classed('tick', true)\n      .attr('cx', vm._center.x)\n      .attr('cy', vm._center.y)\n      .style('fill', vm._ifStyleDefaults('none'))\n      .style('stroke', vm._ifStyleDefaults('gray'))\n      .attr('r', function(d) { return vm._scale(d[1]); })\n      .attr('opacity', 0)\n      .transition()\n      .duration(dur)\n      .attr('opacity', 1);\n\n    sel.exit()\n      .transition()\n      .duration(dur)\n      .attr('opacity', 0)\n      .remove();\n  };\n\n  Radar.prototype.drawTicksLabels = function() {\n    var vm = this,\n      svg = vm._chart._svg,\n      margin = 2,\n      dur = vm._config.transitionDuration,\n      sel;\n\n    sel = svg.select('g.ticks-labels');\n\n    if(sel.empty()) {\n      sel = svg.append('g').attr('class', 'ticks-labels');\n    }\n\n    sel = sel.selectAll('text.tick-label')\n      .data(vm._ticks);\n\n    sel\n      .transition()\n      .duration(dur)\n      .text(function(d) { return d; })\n      .attr('y', function(d) { return vm._center.y - margin - vm._scale(d); });\n\n    sel.enter()\n      .append('text')\n      .text(function(d) { return d; })\n      .attr('class', 'tick-label')\n      .attr('x', vm._center.x + margin)\n      .attr('y', function(d) { return vm._center.y - margin - vm._scale(d); })\n      .attr('fill', vm._ifStyleDefaults('gray'))\n      .style('font-family', vm._ifStyleDefaults('sans-serif'))\n      .attr('opacity', 0)\n      .transition()\n      .duration(dur)\n      .attr('opacity', 1);\n\n    sel.exit()\n      .transition()\n      .duration(dur)\n      .attr('opacity', 0)\n      .remove();\n  };\n\n  Radar.prototype.extractAxes = function(data) {\n    var result,\n      vm = this,\n      axes = vm._config.axesFrom,\n      radiansPerAxis;\n\n    result = data.reduce(\n      function(prev, item) {\n        return prev.indexOf(item[axes]) > -1\n          ? prev\n          : prev.concat(item[axes]);\n      }, []);\n\n    radiansPerAxis = (vm.CIRCLE_RADIANS / result.length);\n\n    result = result.map(\n      function(item, idx) {\n        return {\n          axis: item,\n          rads: (idx * radiansPerAxis) + vm.RADIANS_TO_ROTATE\n        };\n      });\n\n    return {\n      list: result,\n      hash: result.reduce(function(hashed, el) {\n        hashed[el.axis] = el;\n        return hashed;\n      }, {})\n    };\n  };\n\n  Radar.prototype.buildColorMap = function(data) {\n    var vm = this,\n      colors = vm._config.colors;\n    return data.reduce(function(cMap, row) {\n      var polyg = row[vm._config.polygonsFrom],\n        cIdx = cMap.index.indexOf(polyg);\n\n      if(cIdx == -1) {\n        cIdx = cMap.index.push(polyg) - 1;\n        cMap.hash[polyg] = colors[cIdx];\n        cMap.list.push({polygon: polyg, color: colors[cIdx]});\n      }\n      return cMap;\n    }, {index: [], hash: {}, list: []});\n  };\n\n  Radar.prototype.drawAxes = function() {\n    var vm = this,\n      svg = vm._chart._svg,\n      duration = vm._config.transitionDuration,\n      selection;\n\n    selection = svg.selectAll('line.axis')\n      .data(vm._axesData.list, function(d) { return d.axis; });\n\n    selection.enter()\n      .append('line')\n      .classed('axis', true)\n      .attr('x1', vm._center.x)\n      .attr('y1', vm._center.y)\n      .style('stroke', vm._ifStyleDefaults('gray'))\n      .attr('x2', vm._center.x)\n      .attr('y2', vm._center.y)\n      .transition()\n      .duration(duration)\n      .attr('x2', function(d) {\n        return vm.xOf(d.rads, vm._radius + 8);\n      })\n      .attr('y2', function(d) {\n        return vm.yOf(d.rads, vm._radius + 8);\n      });\n\n    selection\n      .transition()\n      .duration(duration)\n      .attr('x2', function(d) {\n        return vm.xOf(d.rads, vm._radius + 8);\n      })\n      .attr('y2', function(d) {\n        return vm.yOf(d.rads, vm._radius + 8);\n      });\n\n    selection.exit()\n      .transition()\n      .duration(duration)\n      .attr('x2', vm._center.x)\n      .attr('y2', vm._center.y)\n      .remove();\n  };\n\n  Radar.prototype.drawAxesLabels = function() {\n    var vm = this,\n      svg = vm._chart._svg,\n      duration = vm._config.transitionDuration,\n      fromCenter = vm._radius + vm._config.axisLabelMargin,\n      labels;\n\n    labels = svg.selectAll('text.axis-label')\n      .data(vm._axesData.list, function(d) { return d.axis; });\n\n    labels\n      .transition()\n      .duration(duration)\n      .attr('x', (d) => vm.xOf(d.rads, fromCenter))\n      .attr('y', (d) => vm.yOf(d.rads, fromCenter));\n\n    labels.enter()\n      .append('text')\n      .attr('class', 'axis-label')\n      .attr('text-anchor', 'middle')\n      .attr('fill', vm._ifStyleDefaults('gray'))\n      .style('font-family', vm._ifStyleDefaults('sans-serif'))\n      .text(function(d) { return d.axis; })\n      .attr('x', (d) => vm.xOf(d.rads, fromCenter))\n      .attr('y', (d) => vm.yOf(d.rads, fromCenter))\n      .attr('opacity', 0)\n      .transition()\n      .duration(duration)\n      .attr('opacity', 1);\n\n    labels.exit()\n      .transition()\n      .duration(duration)\n      .attr('opacity', 0)\n      .remove();\n  };\n\n  Radar.prototype.drawPolygons = function() {\n    var vm = this,\n      data = vm._viewData,\n      svg = vm._chart._svg,\n      duration = vm._config.transitionDuration,\n      groupedData,\n      gs, gsExit, gsEnter;\n\n    // Prepare the data.\n    groupedData = data.reduce(function(bundle, row) {\n      var polygIdx = bundle.keys.indexOf(row.polygon);\n      if(polygIdx == -1) {\n        polygIdx = bundle.keys.push(row.polygon) - 1;\n        bundle.polygons.push({\n          polygon: row.polygon,\n          color: row.color,\n          points: [],\n          values: []\n        });\n      }\n      bundle.polygons[polygIdx].values.push(row);\n      bundle.polygons[polygIdx].points.push(row.xy.join(','));\n      return bundle;\n    }, {keys: [], polygons:[]}).polygons;\n\n    gs = svg.selectAll('g.polygon-container')\n      .data(groupedData, function(d) { return d.polygon + '-container'; });\n\n    gsEnter = gs.enter()\n      .append('g')\n      .attr('class', 'polygon-container');\n\n    gsExit = gs.exit();\n    gsExit.transition().duration(duration).remove();\n\n    vm._buildNestedPolygons(gs, gsEnter, gsExit);\n    vm._buildNestedVertexes(gs, gsEnter, gsExit);\n  };\n\n  Radar.prototype._buildNestedVertexes = function(update, enter, exit) {\n    var vm = this,\n      duration = vm._config.transitionDuration,\n      selector = 'circle.vertex',\n      toUpdate;\n\n    function appendHelper(selection) {\n      selection\n        .append('circle')\n        .attr('class', 'vertex')\n        .attr('cx', vm._center.x)\n        .attr('cy', vm._center.y)\n        .attr('r', 4)\n        .attr('fill', d => d.color)\n        .call(updateHelper)\n        .on('mouseover', d => {\n          var x = d.xy[0] + 10,\n            y = d.xy[1] - 10;\n          vm._showTooltip(x, y, d.polygon, d.value);\n        })\n        .on('mouseout', () => {\n          vm._hideTooltip();\n        });\n    }\n\n    function removeHelper(selection) {\n      selection\n        .transition()\n        .duration(duration)\n        .attr('cx', vm._center.x)\n        .attr('cy', vm._center.y)\n        .remove();\n    }\n\n    function updateHelper(selection) {\n      selection\n        .transition()\n        .duration(duration)\n        .attr('cx', function(d) { return d.xy[0]; })\n        .attr('cy', function(d) { return d.xy[1]; });\n    }\n\n    function dataFunc(d) { return d.values; }\n\n    function keyFunc(d) { return d.polygon + '-' + d.axis; }\n\n    toUpdate = update.selectAll(selector)\n      .data(dataFunc, keyFunc);\n\n    toUpdate\n      .call(updateHelper);\n\n    toUpdate.enter()\n      .call(appendHelper);\n\n    toUpdate.exit()\n      .call(removeHelper);\n\n    enter.selectAll(selector)\n      .data(dataFunc, keyFunc)\n      .enter()\n      .call(appendHelper);\n\n    exit.selectAll(selector)\n      .call(removeHelper);\n  };\n\n  /**\n   * Draw a tooltip at the given X, Y possition.\n   * @param  {int} x       The X coordinate\n   * @param  {int} y       The Y coordinate\n   * @param  {string} val1 The value to show as the first line\n   * @param  {string} val2 The value to show in the second line\n   * @return {selection}   Return the created tooltip as a D3 selection\n   */\n  Radar.prototype._showTooltip = function(x, y, val1, val2) {\n    var tt, subtt, bg, bbox,\n      padding = 2,\n      vm = this,\n      svg = vm._chart._svg;\n\n    tt = svg.append('g')\n      .attr('class', 'tooltip')\n      .attr('opacity', 0);\n\n    bg = tt.append('rect').attr('class', 'tooltip-background');\n\n    subtt = tt\n      .append('text')\n      .attr('y', y)\n      .attr('x', x)\n      .style('fill', vm._ifStyleDefaults('white'))\n      .style('font-family', vm._ifStyleDefaults('sans-serif'));\n\n    subtt.append('tspan')\n      .text(val2);\n\n    subtt.append('tspan')\n      .attr('dy', '-1.2em')\n      .attr('x', x)\n      .text(val1);\n\n    bbox = tt.node().getBBox();\n\n    bg.attr('x', bbox.x - padding)\n      .attr('y', bbox.y - padding)\n      .attr('width', bbox.width + (padding * 2))\n      .attr('height', bbox.height + (padding + 2))\n      .style('fill', vm._ifStyleDefaults('gray'));\n\n    tt.transition()\n      .duration(200)\n      .attr('opacity', .9);\n\n    return tt;\n  };\n\n  /**\n   * Remove the tooltip created by _showTooltip()\n   * @return {undefined}\n   */\n  Radar.prototype._hideTooltip = function() {\n    this._chart._svg.selectAll('g.tooltip')\n      .transition()\n      .duration(200)\n      .attr('opacity', 0)\n      .remove();\n  };\n\n  Radar.prototype._buildNestedPolygons = function(update, enter, exit) {\n    var vm = this,\n      duration = vm._config.transitionDuration,\n      selector = 'polygon.category',\n      toUpdate;\n\n    // Used for the transitions where the polygons expand from\n    // or shrink to the center.\n    function centerPoints(data) {\n      var center = [vm._center.x, vm._center.y].join(',');\n      return data.points.map(function() {\n        // All polygon's points move to the center.\n        return center;\n      }).join(' ');\n    }\n\n    function appendHelper(selection) {\n      selection\n        .append('polygon')\n        .attr('class', 'category')\n        .attr('points', centerPoints)\n        .style('stroke', function(d) { return d.color; })\n        .style('fill', function(d) { return d.color; })\n        .style('fill-opacity', 0.4)\n        .style('stroke-width', vm._ifStyleDefaults('1px'))\n        .call(updateHelper);\n    }\n\n    function removeHelper(selection) {\n      selection\n        .transition()\n        .duration(duration)\n        .attr('points', centerPoints)\n        .remove();\n    }\n\n    function updateHelper(selection) {\n      selection\n        .transition()\n        .duration(duration)\n        .attr('points', function(d) { return d.points.join(' '); });\n    }\n\n    function dataFunc(d) { return [d]; }\n\n    function keyFunc(d) { return d.polygon; }\n\n    toUpdate = update.selectAll(selector)\n      .data(dataFunc, keyFunc);\n\n    toUpdate\n      .call(updateHelper);\n\n    toUpdate.enter()\n      .call(appendHelper);\n\n    toUpdate.exit()\n      .call(removeHelper);\n\n    enter.selectAll(selector)\n      .data(dataFunc, keyFunc)\n      .enter()\n      .call(appendHelper);\n\n    exit.selectAll(selector)\n      .call(removeHelper);\n\n  };\n\n  Radar.prototype.drawLegend = function() {\n    var vm = this,\n      cMap = vm._colorMap.list,\n      svg = vm._chart._svg,\n      at = vm._config.legend.at,\n      side = 14,\n      margin = 4,\n      legend, newLegend;\n\n    legend = svg.selectAll('g.legend-item')\n      .data(cMap, function(d) { return d.polygon; })\n      .attr('opacity', d => {\n        return vm._excludedPolygons.indexOf(d.polygon) > -1 ? .4 : 1;\n      });\n\n    newLegend = legend.enter()\n      .append('g')\n      .on('click', (d) => {\n        vm._excludedPolygons = vm._toggleList(\n          vm._excludedPolygons, [d.polygon]);\n        vm.draw();\n      })\n      .attr('class', 'legend-item');\n\n    newLegend\n      .append('text')\n      .text(d => d.polygon)\n      .attr('x', at.x + side + margin)\n      .attr('y', (d, i) => ((side + margin) * i) + at.y + side)\n      .style('font-family', vm._ifStyleDefaults('sans-serif'));\n\n    newLegend\n      .append('rect')\n      .attr('fill', d => d.color)\n      .attr('width', side)\n      .attr('height', side)\n      .attr('x', at.x)\n      .attr('y', (d, i) => ((side + margin) * i) + at.y);\n  };\n\n  /**\n   * Return value if config styleDefaults is true, else null.\n   * @param  {string} value The value to use as default\n   * @return {string}       The value itself or null\n   */\n  Radar.prototype._ifStyleDefaults = function(value) {\n    return this._config.styleDefaults ? value : null;\n  };\n\n  /**\n   * Append items not present in base from items and pop those which are.\n   * @param  {array} base   Array to append to remove from.\n   * @param  {array} items  Items to be toogled (appended or removed).\n   * @return {array}        A new array.\n   */\n  Radar.prototype._toggleList = (base, items) => {\n    var newItems = items.filter(it => base.indexOf(it) == -1);\n    return base.filter(it => items.indexOf(it) == -1).concat(newItems);\n  };\n\n  Radar.prototype.xOf = function(rads, value) {\n    var vm = this;\n    return vm._center.x + (value * Math.cos(rads));\n  };\n\n  Radar.prototype.yOf = function(rads, value) {\n    var vm = this;\n    return vm._center.y + (value * Math.sin(rads));\n  };\n\n  Radar.prototype.minMax = function(data) {\n    var vm = this;\n    return data.reduce(function(minMax, row) {\n      var val = parseInt(row[vm._config.valuesFrom]);\n      if(minMax.length == 0) {\n        return [val, val];\n      }\n      return [\n        val < minMax[0] ? val : minMax[0],\n        val > minMax[1] ? val : minMax[1]\n      ];\n    }, []);\n  };\n\n  // Build the data with coords.\n  Radar.prototype.dataForVisualization = function(data) {\n    var vm = this,\n      scale = vm._scale,\n      axisKey = vm._config.axesFrom,\n      valKey = vm._config.valuesFrom,\n      polygKey = vm._config.polygonsFrom,\n      axesHash = vm._axesData.hash;\n\n    return data.map(function(row) {\n      var axis = row[axisKey],\n        rads = axesHash[axis].rads,\n        polygon = row[polygKey],\n        val = row[valKey],\n        scVal = scale(val);\n      return {\n        xy: [\n          vm.xOf(rads, scVal),\n          vm.yOf(rads, scVal)\n        ],\n        value: val,\n        polygon: polygon,\n        axis: axis,\n        color: vm._colorMap.hash[polygon],\n        rawData: row\n      };\n    });\n  };\n\n  Radar.prototype.filter = function(fun) {\n    var vm = this;\n    vm._filter = fun;\n    return vm;\n  };\n\n  // DBOX internals.\n\n  Radar.prototype.chart = function(chart) {\n    var vm = this;\n    vm._chart = chart;\n    return vm;\n  };\n\n  Radar.prototype.data = function(data) {\n    var vm = this;\n    vm._data = data;\n    return vm;\n  };\n\n  Radar.prototype.scales = function(scales) {\n    var vm = this;\n    vm._scales = scales;\n    // We only need one scale.\n    vm._scale = vm._scales.x;\n    vm._scale.range([0, vm._radius]);\n    return vm;\n  };\n\n  Radar.prototype.axes = function(axes) {\n    var vm = this;\n    // TODO Do nothing?\n    return vm;\n  };\n\n  Radar.prototype.domains = function() {\n    var vm = this;\n    vm._calcDomains(vm._data);\n    return vm;\n  };\n\n  Radar.prototype._calcDomains = function(data) {\n    var vm = this;\n    vm._minMax = vm.minMax(data);\n    vm._scale.domain([0, vm._minMax[1]]);\n    vm._ticks = vm._scale.ticks(vm._config.ticks);\n    // Exclude 0 from ticks if it is the first element.\n    // We don't need to have the 0 actually rendered.\n    if(vm._ticks.length > 0 && vm._ticks[0] === 0) {\n      vm._ticks = vm._ticks.slice(1);\n    }\n  };\n\n  Radar.prototype.draw = function() {\n    var vm = this,\n      data = vm._data;\n\n    // Build the color map previusly to filtering in order to keep the\n    // association between colors and polygons even when some of them (the\n    // polygons) have been filtered out.\n    vm._colorMap = vm.buildColorMap(data);\n\n    // Apply the filter function, if it's present.\n    if(typeof vm._filter === 'function') {\n      data = data.filter(vm._filter);\n    }\n\n    // Filter out excluded polygons from.\n    if(vm._excludedPolygons.length > 0) {\n      data = data.filter(it => {\n        return vm._excludedPolygons.indexOf(\n          it[vm._config.polygonsFrom]) == -1;\n      });\n    }\n\n    vm._calcDomains(data);\n    vm._axesData = vm.extractAxes(data);\n    vm._viewData = vm.dataForVisualization(data);\n\n    vm.drawTicks();\n    vm.drawAxes();\n    vm.drawAxesLabels();\n    vm.drawTicksLabels();\n    vm.drawPolygons();\n    vm.drawLegend();\n  };\n\n  return new Radar(config);\n\n}\n","/*\n * Simple Scatter chart\n */\n\nexport default function(config) {\n  \n  function Scatter(config) {\n    var vm = this;\n    vm._config = config ? config : {};\n    vm._data = [];\n    vm._scales = {};\n    vm._axes = {};\n    vm._tip = d3.tip().attr('class', 'd3-tip');\n  }\n\n  //-------------------------------\n  //User config functions\n  Scatter.prototype.x = function(col) {\n    var vm = this;\n    vm._config.x = col;\n    return vm;\n  }\n\n  Scatter.prototype.y = function(col) {\n    var vm = this;\n    vm._config.y = col;\n    return vm;\n  }\n\n  Scatter.prototype.radius = function(radius) {\n    var vm = this;\n    vm._config.radius = radius;\n    return vm;\n  }\n\n  Scatter.prototype.radiusRange = function(radiusRange) {\n    var vm = this;\n    vm._config.radiusRange = radiusRange;\n    return vm;\n  }\n\n  Scatter.prototype.properties = function(properties){\n    var vm = this;\n    vm._config.properties = properties;\n    return vm;\n  }\n\n  Scatter.prototype.color = function(col) {\n    var vm = this;\n    vm._config.color = col;\n    return vm;\n  }\n\n  Scatter.prototype.opacity = function(opacity) {\n    var vm = this;\n    vm._config.opacity = opacity;\n    return vm;\n  }\n\n  Scatter.prototype.tip = function(tip){\n    var vm = this;\n    vm._config.tip = tip;\n    vm._tip.html(vm._config.tip);\n    return vm;\n  }\n\n  Scatter.prototype.end = function() {\n    var vm = this;\n    return vm._chart;\n  }\n\n  //-------------------------------\n  //Triggered by chart.js;\n  Scatter.prototype.chart = function(chart) {\n    var vm = this;\n    vm._chart = chart;\n    return vm;\n  }\n\n  Scatter.prototype.data = function(data) {\n    var vm = this;\n    vm._data = [];\n    data.forEach(function(d, i) {\n      var m = {};\n      m.datum = d;\n      m.x = vm._config.xAxis.scale == 'linear' ? +d[vm._config.x] : d[vm._config.x];\n      m.y = vm._config.yAxis.scale == 'linear'? +d[vm._config.y] : d[vm._config.y];\n      m.color = vm._config.color.slice(0,1) !== '#' ? d[vm._config.color] : vm._config.color;\n      m.radius = vm._config.radius !== undefined ? isNaN(vm._config.radius) ? +d[vm._config.radius] : vm._config.radius : 5;\n      \n      if(vm._config.properties !== undefined && Array.isArray(vm._config.properties) && vm._config.properties.length > 0){\n        vm._config.properties.forEach(function(p){\n          m[p] = d[p];\n        })\n      }\n      vm._data.push(m);\n    });\n    return vm;\n  }\n\n  Scatter.prototype.scales = function(s) {\n    var vm = this;\n    vm._scales = s;\n    return vm;\n  }\n\n  Scatter.prototype.axes = function(a) {\n    var vm = this;\n    vm._axes = a;\n    return vm;\n  }\n\n  Scatter.prototype.domains = function() {\n    var vm = this;\n    var xMinMax = d3.extent(vm._data, function(d) {\n        return d.x;\n      }),\n      yMinMax = d3.extent(vm._data, function(d) {\n        return d.y;\n      }), \n      radiusMinMax = d3.extent(vm._data, function(d) {\n        return d.radius;\n      }); \n\n    var arrOk = [0, 0];\n\n    if (vm._config.fixTo45) {\n      if (xMinMax[1] > yMinMax[1]) {\n        arrOk[1] = xMinMax[1];\n      } else {\n        arrOk[1] = yMinMax[1];\n      }\n\n      if (xMinMax[0] < yMinMax[0]) {\n        //yMinMax = xMinMax;\n        arrOk[0] = xMinMax[0];\n      } else {\n        arrOk[0] = yMinMax[0];\n      }\n\n      vm._scales.x.domain(arrOk).nice();\n      vm._scales.y.domain(arrOk).nice();\n      vm._scales.radius = d3.scaleLinear()\n                          .range(vm._config.radiusRange != undefined ? vm._config.radiusRange : [5, 15])\n                          .domain(radiusMinMax).nice(); \n\n    } else {\n      vm._scales.x.domain(xMinMax); //.nice();\n      vm._scales.y.domain(yMinMax); //.nice();\n      if(vm._scales.x.nice) {\n        vm._scales.x.nice();\n      }\n      if(vm._scales.y.nice) {\n        vm._scales.y.nice();\n      }\n      vm._scales.radius = d3.scaleLinear()\n                          .range(vm._config.radiusRange != undefined ? vm._config.radiusRange : [5, 15])\n                          .domain(radiusMinMax).nice(); \n      if(vm._config.xAxis && vm._config.xAxis.scale !== 'linear') {\n        vm._scales.x.domain(vm._data.map(function(m){ return m.x; }));\n      }\n      if(vm._config.yAxis && vm._config.yAxis.scale !== 'linear') {\n        vm._scales.y.domain(vm._data.map(function(m){ return m.y}));\n      }\n    }\n\n    if(vm._config.xAxis.scaleDomain && Array.isArray(vm._config.xAxis.scaleDomain)) {\n      vm._scales.x.domain(vm._config.xAxis.scaleDomain);\n      \n    } \n    if(vm._config.yAxis.scaleDomain && Array.isArray(vm._config.yAxis.scaleDomain)) {\n      vm._scales.y.domain(vm._config.yAxis.scaleDomain);\n    }\n    return vm;\n  };\n\n  Scatter.prototype.draw = function() {\n    var vm = this;\n    \n    //Call the tip\n    vm._chart._svg.call(vm._tip)\n    \n    var circles = vm._chart._svg.selectAll(\".dot\")\n      .data(vm._data)\n      //.data(vm._data, function(d){ return d.key})\n      .enter().append(\"circle\")\n      .attr(\"class\", \"dot\")\n      .attr(\"class\",function(d,i){\n        return d.properties !== undefined &&  d.properties.id !== undefined ? \"scatter-\"+d.properties.id : \"scatter-\"+i;\n      })\n      .attr(\"r\", function(d){\n        return vm._scales.radius(d.radius);\n      })\n      .attr(\"cx\", function(d) {\n        if(vm._config.xAxis.scale == 'ordinal' || vm._config.xAxis.scale == 'band')\n          return vm._scales.x(d.x) + (Math.random() * (vm._scales.x.bandwidth() - (d.size * 2)));\n        else \n          return vm._scales.x(d.x);\n      })\n      .attr(\"cy\", function(d) {\n        if(vm._config.yAxis.scale == 'ordinal' || vm._config.yAxis.scale == 'band')\n          return vm._scales.y(d.y) + (Math.random() * (vm._scales.y.bandwidth() - (d.size * 2)));\n        else \n          return vm._scales.y(d.y);\n      })\n      .style(\"fill\", function(d) {\n        return d.color.slice(0,1) !== '#' ?  vm._scales.color(d.color) : d.color;\n      })\n      .style(\"opacity\", vm._config.opacity !== undefined ? vm._config.opacity  : 1 )\n      .on('mouseover', function(d, i) {\n        if (vm._config.mouseover) {\n          vm._config.mouseover.call(vm, d, i);\n        }\n        vm._tip.show(d, d3.select(this).node());\n      })\n      .on('mouseout', function(d, i) {\n        if (vm._config.mouseout) {\n          vm._config.mouseout.call(this, d, i);\n        }\n        vm._tip.hide(d, d3.select(this).node());\n      })\n      .on(\"click\", function(d, i) {\n        if (vm._config.onclick) {\n          vm._config.onclick.call(this, d, i);\n        }\n      });\n\n    return vm;\n  }\n\n  Scatter.prototype.select = function(id){\n    var vm = this; \n    return vm._chart._svg.select(\"circle.scatter-\"+id);\n  }\n\n  Scatter.prototype.selectAll = function(id){\n    var vm = this; \n    return vm._chart._svg.selectAll(\"circle\");\n  }\n\n  return new Scatter(config);\n}\n","/* Simple timeline example\n * Single and multiline timelines\n */\n\nexport default function(config) {\n\n  var parseDate = d3.timeParse('%Y-%m-%d');\n\n  function Timeline(config){\n    var vm = this;\n    vm._config = config ? config : {};\n    vm._data = [];\n    vm._scales ={};\n    vm._axes = {};\n\n    vm._line = d3.line()\n      .curve(d3.curveBasis)\n      .x(function(d) { return vm._scales.x(d.x); })\n      .y(function(d) { return vm._scales.y(d.y); });\n\n\n    vm._area = d3.area()\n      .curve(d3.curveBasis)\n      .x(function(d) {\n        if (d.alreadyScaled && d.alreadyScaled === true){\n          return d.x;\n        }else{\n          return vm._scales.x(d.x);\n        }\n      })\n      .y1(function(d) {\n        if (d.alreadyScaled && d.alreadyScaled === true){\n          return d.y;\n        }else{\n          return vm._scales.y(d.y);\n        }\n\n      });\n\n  }\n\n  //-------------------------------\n  //User config functions\n  Timeline.prototype.x = function(col){\n    var vm = this;\n    vm._config.x = col;\n    return vm;\n  }\n\n  Timeline.prototype.y = function(col){\n    var vm = this;\n    vm._config.y = col;\n    return vm;\n  }\n\n  Timeline.prototype.series = function(arr){\n    var vm = this;\n    vm._config.series = arr;\n    return vm;\n  }\n\n  Timeline.prototype.color = function(col){\n    var vm = this;\n    vm._config.color = col;\n    return vm;\n  }\n\n  Timeline.prototype.end = function(){\n    var vm = this;\n    return vm._chart;\n  }\n\n  //-------------------------------\n  //Triggered by the chart.js;\n  Timeline.prototype.chart = function(chart){\n    var vm = this;\n    vm._chart = chart;\n    return vm;\n  }\n\n\n  Timeline.prototype.data = function(data){\n    var vm = this;\n\n    vm._data = data.map(function(d){\n      d.x = parseDate(d[vm._config.x]);\n      d.color = d[vm._config.color];\n      delete(d[vm._config.x]);\n      return d;\n    });\n\n    vm._lines = vm._config.y ? vm._config.y : vm._config.series;\n\n    vm._lines = vm._lines.map(function(name) {\n      return {\n        name: name,\n        values: data.map(function(d) {\n          return {x: d.x, y: +d[name]};\n        })\n      };\n    });\n\n    return vm;\n  }\n\n  Timeline.prototype.scales = function(s){\n    var vm = this;\n    vm._scales = s;\n    return vm;\n  }\n\n  Timeline.prototype.axes = function(a){\n    var vm = this;\n    vm._axes = a;\n    return vm;\n  }\n\n  Timeline.prototype.domains = function(){\n    var vm = this;\n    vm._xMinMax = d3.extent(vm._data, function(d) { return d.x; });\n\n    vm._yMinMax = [\n      d3.min(vm._lines, function(c) { return d3.min(c.values, function(v) { return v.y; }); }),\n      d3.max(vm._lines, function(c) { return d3.max(c.values, function(v) { return v.y; }); })\n    ];\n\n    vm._scales.x.domain(vm._xMinMax)\n    vm._scales.y.domain(vm._yMinMax)\n\n    console.log(vm._scales.x.domain(), vm._chart._scales.x.domain())\n\n    vm._chart._scales = vm._scales;\n\n    return vm;\n  };\n\n  Timeline.prototype.draw = function(){\n    var vm = this;\n\n    var lines = vm._chart._svg.selectAll(\".lines\")\n      .data(vm._lines)\n    .enter().append(\"g\")\n      .attr(\"class\", \"lines\");\n\n    var path = vm._chart._svg.selectAll(\".lines\").append(\"path\")\n      .attr(\"class\", \"line\")\n      .attr(\"d\", function(d) {\n        return vm._line(d.values);\n      })\n      .style(\"stroke\", function(d){\n        if (d.name == \"Airbus\"){\n          return \"rgb(000,255,000)\";\n        }else {\n          return \"#000\";\n        }\n      });\n\n\n    var t = textures.lines().thicker();\n\n    vm._chart._svg.call(t);\n\n\n    vm._area.y0(vm._scales.y(vm._yMinMax[0]));\n\n    var areas = vm._chart._svg.selectAll(\".areas\")\n      .data(vm._lines)\n    .enter().append(\"g\")\n      .attr(\"class\", \"areas\");\n\n    var pathArea  = vm._chart._svg.selectAll(\".areas\").append(\"path\")\n      .attr(\"class\", \"area\")\n      .attr(\"d\", function(d) {\n        return vm._area(d.values);\n      })\n      .attr(\"fill\", t.url());\n\n    return vm;\n  }\n\n  return new Timeline(config);\n}\n","/* \n * Simple SVG Treemap Chart\n */\n\nexport default function(config) {\n  function Treemap(config) {\n    var vm = this;\n    vm._config = config ? config : {};\n    vm._config._padding = 3;\n    vm._config._colorScale = d3.scaleOrdinal(d3.schemeCategory20c);\n    vm._config._format = d3.format(\",.1f\");\n    vm._config._labels = true;\n    vm._config.tip = function(d) {\n      return d.data.name + \"\\n\" + vm._config._format(d.value);\n    };\n    vm._data = [];\n    vm._scales = {};\n    vm._axes = {};\n    vm._tip = d3.tip()\n      .attr('class', 'd3-tip tip-treemap')\n      .direction('n')\n      .html(vm._config.tip);\n  }\n\n  //-------------------------------\n  //User config functions\n  Treemap.prototype.end = function() {\n    var vm = this;\n    return vm._chart;\n  }\n\n  Treemap.prototype.size = function(col) {\n    var vm = this;\n    vm._config._size = col;\n    return vm;\n  }\n\n  Treemap.prototype.colorScale = function(arrayOfColors) {\n    var vm = this;\n    vm._config._colorScale = d3.scaleOrdinal(arrayOfColors);\n    return vm;\n  }\n\n  Treemap.prototype.padding = function(padding) {\n    var vm = this;\n    vm._config._padding = padding;\n    return vm;\n  }\n\n  Treemap.prototype.nestBy = function(keys) {\n    var vm = this;\n    if (Array.isArray(keys)) {\n      if (keys.length == 0)\n        throw \"Error: nestBy() array is empty\";\n      vm._config._keys = keys;\n    } else if (typeof keys === 'string' || keys instanceof String) {\n      vm._config._keys = [keys];\n    } else {\n      if (keys == undefined || keys == null)\n        throw \"Error: nestBy() expects column names to deaggregate data\";\n      vm._config._keys = [keys.toString()];\n      console.warning(\"nestBy() expected name of columns. Argument will be forced to string version .toString()\");\n    }\n    vm._config._labelName = vm._config._keys[vm._config._keys.length - 1]; //label will be last key\n    return vm;\n  }\n\n  Treemap.prototype.format = function(format) {\n    var vm = this;\n    if (typeof format == 'function' || format instanceof Function)\n      vm._config._format = format;\n    else\n      vm._config._format = d3.format(format);\n    return vm;\n  }\n\n  Treemap.prototype.labels = function(bool) {\n    var vm = this;\n    vm._config._labels = Boolean(bool);\n    return vm;\n  };\n\n  Treemap.prototype.tip = function(tip) {\n    var vm = this;\n    vm._config.tip = tip;\n    vm._tip.html(vm._config.tip);\n    return vm;\n  }\n\n  //-------------------------------\n  //Triggered by the chart.js;\n  Treemap.prototype.chart = function(chart) {\n    var vm = this;\n    vm._chart = chart;\n    return vm;\n  }\n\n  Treemap.prototype.scales = function() {\n    var vm = this;\n    return vm;\n  }\n\n  Treemap.prototype.axes = function() {\n    var vm = this;\n    return vm;\n  }\n\n  Treemap.prototype.domains = function() {\n    var vm = this;\n    return vm;\n  }\n\n  Treemap.prototype.isValidStructure = function(datum) {\n    var vm = this;\n    if ((typeof datum.name === 'string' || datum.name instanceof String) && Array.isArray(datum.children)) {\n      var res = true;\n      datum.children.forEach(function(child) {\n        res = res && vm.isValidStructure(child);\n      });\n      return res;\n    } else if ((typeof datum.name === 'string' || datum.name instanceof String) && Number(datum[vm._config._size]) == datum[vm._config._size]) {\n      return true;\n    } else {\n      return false;\n    }\n  }\n\n  Treemap.prototype.formatNestedData = function(data) {\n    var vm = this;\n    if (data.key) {\n      data.name = data.key;\n      delete data.key;\n    } else {\n      if (!Array.isArray(data.values)) {\n        data.name = data[vm._config._labelName];\n      }\n    }\n    if (Array.isArray(data.values)) {\n      var children = [];\n      data.values.forEach(function(v) {\n        children.push(vm.formatNestedData(v))\n      });\n      data.children = children;\n      delete data.values;\n    }\n    if (!data[vm._config._size] && data.value) {\n      data[vm._config._size] = data.value;\n    }\n    return data;\n  }\n\n  function nestKey(nest, key, callback) {\n    callback(null, nest.key(function(d) {\n      return d[key];\n    }))\n  }\n\n  Treemap.prototype.data = function(data) {\n    var vm = this;\n    // Validate structure like [{name: '', children: [{},{}]}]\n    if (data) {\n      if (Array.isArray(data) && data.length > 0) {\n        if (!vm.isValidStructure(data[0])) {\n          data.forEach(function(d) {\n            d[vm._config._size] = +d[vm._config._size];\n          });\n          try {\n            if (!vm._config._keys)\n              throw \"nestBy() in layer was not configured\";\n            var nested = d3.nest();\n            var queue = d3.queue();\n            for (var i = 0; i < vm._config._keys.length; i++)\n              queue.defer(nestKey, nested, vm._config._keys[i])\n            queue.awaitAll(function(error, nested) {\n              var nestedData = nested[0].rollup(function(leaves) {\n                return d3.sum(leaves, function(d) {\n                  return d[vm._config._size];\n                })\n              }).entries(data);\n              var aux = {};\n              aux.key = 'data';\n              aux.values = _.cloneDeep(nestedData); // WARN: Lodash dependency\n              data = vm.formatNestedData(aux);\n              vm._data = data;\n            });\n\n          } catch (err) {\n            console.error(err);\n          }\n        }\n      } else {\n        if (!vm.isValidStructure(data)) {\n          try {\n            if (!data.key)\n              throw \"Property 'key' not found\";\n            if (data[vm._config._size] !== Number(data[vm._config._size]))\n              throw \"Value used for treemap rect size is not a number\";\n            data = vm.formatNestedData(data);\n            vm._data = data;\n          } catch (err) {\n            console.error(err);\n          }\n        }\n      }\n    }\n    return vm;\n  }\n\n  Treemap.prototype.draw = function() {\n    var vm = this;\n    vm._chart._svg.call(vm._tip);\n\n    var treemap = d3.treemap()\n      .tile(d3.treemapResquarify)\n      .size([vm._chart._width, vm._chart._height])\n      .round(true)\n      .paddingInner(vm._config._padding);\n\n    var root = d3.hierarchy(vm._data)\n      .eachBefore(function(d) {\n        d.data.id = (d.parent ? d.parent.data.id + \".\" : \"\") + d.data.name;\n      })\n      .sum(function(d) {\n        return d[vm._config._size];\n      })\n      .sort(function(a, b) {\n        return b.height - a.height || b.value - a.value;\n      });\n\n    treemap(root);\n\n    var cell = vm._chart._svg.selectAll(\"g\")\n      .data(root.leaves())\n      .enter().append(\"g\")\n      .attr(\"transform\", function(d) {\n        return \"translate(\" + d.x0 + \",\" + d.y0 + \")\";\n      });\n\n    var rect = cell.append(\"rect\")\n      .attr(\"id\", function(d) {\n        return d.data.id;\n      })\n      .attr(\"width\", function(d) {\n        return d.x1 - d.x0;\n      })\n      .attr(\"height\", function(d) {\n        return d.y1 - d.y0;\n      })\n      .attr(\"fill\", function(d) {\n        return vm._config._colorScale(d.data.id);\n      });\n\n    cell.append(\"clipPath\")\n      .attr(\"id\", function(d) {\n        return \"clip-\" + d.data.id;\n      })\n      .append(\"use\")\n      .attr(\"xlink:href\", function(d) {\n        return \"#\" + d.data.id;\n      });\n\n    if (vm._config._labels) {\n      var text = cell.append(\"text\")\n        .attr(\"clip-path\", function(d) {\n          return \"url(#clip-\" + d.data.id + \")\";\n        })\n      text.append(\"tspan\")\n        .attr('class', 'capitalize')\n        .attr(\"x\", 8)\n        .attr(\"y\", 25)\n        .text(function(d) {\n          if (d.value > 2) {\n            var arr = d.data.id.replace('data.', '').split('.');\n            return arr.length > 1 ? arr.slice(arr.length - 2, arr.length).join(' / ') : arr[arr.length - 1].toString();\n          } else\n            return '';\n        });\n      text.append(\"tspan\")\n        .attr('class', 'capitalize')\n        .attr(\"x\", 8)\n        .attr(\"y\", 45)\n        .text(function(d) {\n          return d.value > 2 ? vm._config._format(d.value) : '';\n        });\n    }\n\n    rect.on('mouseover', function(d) {\n        /*if(vm._config.data.mouseover){\n          vm._config.data.mouseover.call(vm, d,i);\n        }*/\n        vm._tip.show(d, d3.select(this).node());\n      })\n      .on('mouseout', function(d) {\n        /*if(vm._config.data.mouseout){\n          vm._config.data.mouseout.call(this, d,i);\n        }*/\n        vm._tip.hide(d, d3.select(this).node());\n      })\n\n    return vm;\n  }\n  return new Treemap(config);\n}\n","/*\n * Dboxjs\n *\n * You can import other modules here, including external packages. When\n * bundling using rollup you can mark those modules as external and have them\n * excluded or, if they have a jsnext:main entry in their package.json (like\n * this package does), let rollup bundle them into your dist file.\n */\n\n/* Core */\nexport {\n  default as chart,\n} from \"./lib/chart/chart\";\n\n/* Chart modules */\nexport {\n  default as bars\n} from \"../bars/bars.js\" \n\nexport {\n  default as heatmap,\n} from \"../heatmap/heatmap.js\";\n\nexport {\n  default as radar\n} from \"../radar/radar.js\"; \n\nexport {\n  default as scatter,\n} from \"../scatter/scatter.js\"\n\nexport {\n  default as timeline,\n} from \"../timeline/timeline.js\";\n\nexport {\n  default as treemap,\n} from \"../treemap/treemap.js\"; \n\n\n\n\n\n"],"names":["carto","query","config","callback","sql","cartodb","user","execute","done","data","result","rows","parser","map","error","Chart","vm","defaultConfig","size","width","height","margin","left","right","top","bottom","_config","_","cloneDeep","_data","_margin","_width","_height","_svg","_scales","_axes","layers","prototype","sizeObj","Number","grid","bool","bindTo","selector","layer","_layer","undefined","chart","push","getLayer","layerIndex","draw","q","scales","axes","loadData","await","drawSVG","drawGraphs","drawAxes","events","load","dispatch","on","xAxis","scale","x","d3","scaleLinear","range","scaleTime","scaleOrdinal","scaleBand","rangeRound","padding","scaleQuantile","buckets","yAxis","y","color","schemeCategory10","generateScale","domains","extent","d","column","minZero","max","type","domain","bins","axisBottom","axisLeft","ticks","enabled","style","tickSize","format","tickFormat","tsv","queue","defer","json","csv","raw","mapData","plotOptions","bars","averageLines","Array","isArray","length","forEach","l","select","remove","html","template","classed","title","append","attr","legend","enable","position","categories","c","background","legendBottom","drawGrid","call","text","fill","dropdown","xAxisDropDown","updateAxis","value","selectAll","options","enter","property","selected","yAxisDropDown","node","getBoundingClientRect","_chart","gr","getDomains","minMax","sorted","sortFunctionY","a","b","ascending","sortFunctionX","sort","order","descending","axis","keys","destroy","Bars","colorScale","schemeCategory20c","_format","_tip","tip","direction","columnName","end","Function","s","bandwidth","show","hide","Heatmap","_gridSize","Math","floor","_legendElementWidth","columns","colors","m","edad_mujer","edad_hombre","tot","por","_dayLabels","i","_timeLabels","cards","indexOf","onclick","transition","duration","ease","easeLinear","Radar","CIRCLE_RADIANS","PI","RADIANS_TO_ROTATE","_axesData","_filter","_minMax","_viewData","_colorMap","_ticks","_scale","_excludedPolygons","transitionDuration","axisLabelMargin","at","styleDefaults","_center","_radius","min","polygonsFrom","axesFrom","valuesFrom","drawTicks","svg","dur","sel","empty","val","idx","reverse","_ifStyleDefaults","exit","drawTicksLabels","extractAxes","radiansPerAxis","reduce","prev","item","concat","hashed","el","buildColorMap","cMap","row","polyg","cIdx","index","hash","list","polygon","selection","xOf","rads","yOf","drawAxesLabels","fromCenter","labels","drawPolygons","groupedData","gs","gsExit","gsEnter","bundle","polygIdx","polygons","values","points","xy","join","_buildNestedPolygons","_buildNestedVertexes","update","toUpdate","appendHelper","updateHelper","_showTooltip","_hideTooltip","removeHelper","dataFunc","keyFunc","val1","val2","tt","subtt","bg","bbox","getBBox","centerPoints","center","drawLegend","side","newLegend","_toggleList","base","items","newItems","filter","it","cos","sin","parseInt","dataForVisualization","axisKey","valKey","polygKey","axesHash","scVal","fun","_calcDomains","slice","Scatter","col","radius","radiusRange","properties","opacity","datum","isNaN","p","xMinMax","yMinMax","radiusMinMax","arrOk","fixTo45","nice","scaleDomain","circles","id","random","mouseover","mouseout","parseDate","timeParse","Timeline","_line","line","curve","curveBasis","_area","area","alreadyScaled","y1","series","arr","_lines","name","_xMinMax","_yMinMax","v","log","lines","path","t","textures","thicker","y0","areas","pathArea","url","Treemap","_padding","_colorScale","_labels","_size","arrayOfColors","nestBy","_keys","String","toString","warning","_labelName","Boolean","isValidStructure","children","res","child","formatNestedData","key","nestKey","nest","nested","awaitAll","nestedData","rollup","leaves","sum","entries","aux","err","treemap","tile","treemapResquarify","round","paddingInner","root","hierarchy","eachBefore","parent","cell","x0","rect","x1","replace","split"],"mappings":"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"}