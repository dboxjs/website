{"version":3,"file":null,"sources":["../../../../dbox/lib/carto/carto.js","../../../../dbox/lib/chart/chart.js","../../../../dbox/lib/scatter/scatter.js","../../../../dbox/lib/timeline/timeline.js","../../../../dbox/lib/heatmap/heatmap.js","../../../../dbox/lib/treemap/treemap.js","../../../../dbox/lib/bars/barchart.js","../../../../dbox/node_modules/@dboxjs/dbox-radar/radar.js","../../../../dbox/lib/index.js"],"sourcesContent":["/*\n * CartoDB helper function\n */\n\nimport * as cartodb from \"cartodb\";\nexport default function carto() {\n\n  function carto(){\n\n  }\n\n  carto.query = function(config, callback){\n    //Config the cartdb User\n    var sql = new cartodb.SQL({ user: config.cartodb.user });\n    //Execute the query\n    sql.execute(config.cartodb.sql)\n      .done(function(data){\n\n        var result = data.rows;\n        //parse the data\n        if( config.parser ){\n          result = data.rows.map(config.parser)\n        }\n        //execute the callback with no error\n        callback(null, result);\n      })\n      .error(function(error){\n        //Return the error\n        callback(error, null);\n      })\n  }\n\n  return carto;\n}\n","/*\n * Dbox Chart core\n */\n\nimport carto from '../carto/carto.js';\n\nexport default function(config) {\n\n  function Chart(config){\n    var vm = this;\n    var defaultConfig = {size: {width: 800, height: 600, margin: {left: 0, right: 0, top: 0, bottom: 0}}};\n    vm._config = config ? _.cloneDeep(config) : defaultConfig;\n    vm._data = [];\n    vm._margin = vm._config.size.margin;\n\n    //Define width and height\n    vm._width = vm._config.size.width - vm._margin.left - vm._margin.right;\n    vm._height = vm._config.size.height - vm._margin.top - vm._margin.bottom;\n    vm._svg = '';\n    vm._scales ={};\n    vm._axes = {};\n\n    //Public\n    vm.layers = [];\n\n  }\n  //------------------------\n  //User\n  Chart.prototype.config = function(config){\n    var vm = this;\n    vm._config = _.cloneDeep(config);\n    return vm;\n  };\n\n  Chart.prototype.size = function(sizeObj) {\n    var vm = this;\n    if (sizeObj) {\n      if(sizeObj.margin) {\n        if(sizeObj.margin.left == Number(sizeObj.margin.left)) {\n          vm._config.size.margin.left = sizeObj.margin.left;\n          vm._margin.left = sizeObj.margin.left;\n        }\n        if(sizeObj.margin.right == Number(sizeObj.margin.right)) {\n          vm._config.size.margin.right = sizeObj.margin.right;\n          vm._margin.right = sizeObj.margin.right;\n        }\n        if(sizeObj.margin.top == Number(sizeObj.margin.top)) {\n          vm._config.size.margin.top = sizeObj.margin.top;\n          vm._margin.top = sizeObj.margin.top;\n        }\n        if(sizeObj.margin.bottom == Number(sizeObj.margin.bottom)) {\n          vm._config.size.margin.bottom = sizeObj.margin.bottom;\n          vm._margin.bottom = sizeObj.margin.bottom;\n        }\n      }\n      if(sizeObj.width == Number(sizeObj.width)) {\n        vm._config.size.width = sizeObj.width;\n        vm._width = sizeObj.width;\n      }\n      if(sizeObj.height == Number(sizeObj.height)) {\n        vm._config.size.height = sizeObj.height;\n        vm._height = sizeObj.height;\n      }\n    }\n    return vm;\n  };\n\n  Chart.prototype.grid = function(bool) {\n    var vm = this;\n    vm._config.grid = bool ? true : false;\n    return vm;\n  };\n\n  Chart.prototype.bindTo = function(selector) {\n    var vm = this;\n    vm._config.bindTo = selector;\n    return vm;\n  }\n\n  Chart.prototype.data = function(data){\n    var vm= this;\n    vm._config.data = data;\n    return vm;\n  }\n\n  Chart.prototype.layer = function(_layer, _config){\n    var vm = this;\n    var layer;\n    var config = _config ? _config : vm._config;\n    if( _layer === undefined && _layer === null){\n      //@Todo Throw Error\n    }else{\n      layer = _layer(config);\n      layer.chart(vm);\n      vm.layers.push(layer);\n      return layer;\n    }\n  }\n\n  Chart.prototype.getLayer = function(layerIndex){\n    var vm = this;\n    return vm.layers[layerIndex];\n  }\n\n  Chart.prototype.draw =function(){\n    var vm     = this, q;\n    vm._scales = vm.scales();\n    vm._axes   = vm.axes();\n\n\n\n    q = vm.loadData();\n\n    q.await(function(error,data){\n      if (error)\n        throw error;\n\n      vm._data = data;\n      vm.drawSVG();\n      \n      vm.drawGraphs();\n      vm.drawAxes();\n\n      //Trigger load chart event\n      if( vm._config.events && vm._config.events.load){\n        vm.dispatch.on(\"load.chart\", vm._config.events.load(vm));\n      }\n\n    })\n    return vm;\n  }\n\n  //----------------------\n  //Helper functions\n  Chart.prototype.scales = function(){\n    var vm = this;\n\n    var scales = {};\n\n    //xAxis scale\n    if(vm._config.xAxis && vm._config.xAxis.scale){\n      switch(vm._config.xAxis.scale){\n        case 'linear':\n          scales.x = d3.scaleLinear()\n              .range([0, vm._width]);\n        break;\n\n        case 'time':\n          scales.x = d3.scaleTime()\n              .range([0, vm._width]);\n        break;\n\n        case 'ordinal':\n          scales.x = d3.scaleOrdinal()\n            .range([0, vm._width], 0.1)\n        break;\n\n            case 'quantile':\n              scales.x = d3.scaleOrdinal()\n                .range([0, vm._width], 0.1)\n\n              scales.q = d3.scaleQuantile()\n                .range(d3.range(vm._config.xAxis.buckets) )\n            break;\n\n        default:\n          scales.x = d3.scaleLinear()\n              .range([0, vm._width]);\n        break;\n      }\n    }else{\n      scales.x = d3.scaleLinear()\n          .range([0, vm._width]);\n    }\n\n    //yAxis scale\n    if(vm._config.yAxis && vm._config.yAxis.scale){\n      switch(vm._config.yAxis.scale){\n        case 'linear':\n          scales.y = d3.scaleLinear()\n              .range([vm._height, 0]);\n        break;\n\n        case 'time':\n          scales.y = d3.scaleTime()\n              .range([vm._height, 0]);\n        break;\n\n        case 'ordinal':\n          scales.y = d3.scaleOrdinal()\n            .range([vm._height, 0], 0.1)\n        break;\n\n        case 'quantile':\n          scales.y = d3.scaleOrdinal()\n            .range([0, vm._width], 0.1)\n\n          scales.q = d3.scaleQuantile()\n            .range(d3.range(vm._config.yAxis.buckets) )\n        break;\n\n        default:\n          scales.y = d3.scaleLinear()\n              .range([vm._height, 0]);\n        break;\n      }\n    }else{\n      scales.y = d3.scaleLinear()\n          .range([vm._height, 0]);\n    }\n\n\n    scales.color = d3.scaleOrdinal(d3.schemeCategory10);\n\n    return scales;\n  }\n\n  Chart.prototype.generateScale = function(data, config){\n    var vm = this;\n    var scale = {};\n    if(!config.range) {\n      throw 'Range is not defined';\n    }\n\n    var domains = d3.extent(data, function(d){ return +d[config.column]});\n    if(config.minZero){\n      domains = [0, d3.max(data, function(d){ return +d[config.column]})];\n    }\n    if(config.type){\n      switch(config.type){\n        case 'linear':\n          scale = d3.scaleLinear()\n            .rangeRound(config.range)\n            .domain(domains);\n        break;\n\n        case 'time':\n          scale = d3.scaleTime()\n            .range(config.range)\n            .domain(domains);\n        break;\n\n        case 'ordinal':\n          scale = d3.scaleBand()\n            .rangeRound(config.range)\n            .padding(0.1)\n            .domain(data.map(function(d){ return d[config.column]}));\n        break;\n\n        case 'quantile':\n          scale = d3.scaleBand()\n            .rangeRound(config.range)\n            .padding(0.1)\n            .domain(data.map(function(d){ return d[config.column]}));\n          if(!config.bins)\n            config.bins = 10;\n          scale = d3.scaleQuantile()\n            .range(d3.range(config.bins))\n        break;\n\n        default:\n          scale = d3.scaleLinear()\n            .rangeRound(config.range)\n            .domain(domains);\n        break;\n      }\n    }else{\n      scale = d3.scaleLinear()\n            .rangeRound(config.range)\n            .domain(domains);\n    }\n\n    return scale;\n  }\n\n  Chart.prototype.axes = function(){\n    var vm = this, axes={};\n\n    axes.x = d3.axisBottom(vm._scales.x);\n    axes.y = d3.axisLeft(vm._scales.y);\n\n    if(vm._config.yAxis && vm._config.yAxis.ticks\n        && vm._config.yAxis.ticks.enabled === true && vm._config.yAxis.ticks.style ){\n\n      switch(vm._config.yAxis.ticks.style){\n        case 'straightLine':\n          axes.y\n            .tickSize(-vm._width,0);\n        break;\n      }\n    }\n\n    if( vm._config.yAxis && vm._config.yAxis.ticks && vm._config.yAxis.ticks.format){\n      axes.y.tickFormat(vm._config.yAxis.ticks.format);\n    }\n    return axes;\n  }\n\n\n\n  Chart.prototype.loadData = function(){\n    var vm = this;\n    var q;\n\n    if(vm._config.data.tsv){\n      q = d3.queue()\n            .defer(d3.tsv, vm._config.data.tsv);\n    }\n\n    if(vm._config.data.json){\n      q = d3.queue()\n            .defer(d3.json, vm._config.data.json);\n    }\n\n    if(vm._config.data.csv){\n      q = d3.queue()\n            .defer(d3.csv, vm._config.data.csv);\n    }\n\n    if(vm._config.data.raw){\n      q = d3.queue()\n            .defer(vm.mapData, vm._config.data.raw);\n    }\n\n    if(vm._config.data.cartodb){\n      q = d3.queue()\n            .defer(carto.query,vm._config.data)\n    }\n\n\n    if(vm._config.plotOptions && vm._config.plotOptions.bars\n      && vm._config.plotOptions.bars.averageLines && Array.isArray(vm._config.plotOptions.bars.averageLines)\n      && vm._config.plotOptions.bars.averageLines.length >0 ){\n\n      vm._config.plotOptions.bars.averageLines.forEach(function(l){\n        if(l.data.cartodb){\n          q.defer(carto.query, l.data)\n        }\n      })\n    }\n\n    return q;\n  }\n\n  Chart.prototype.drawSVG = function(){\n    var vm = this;\n\n    //Remove any previous svg\n    d3.select(vm._config.bindTo).select('svg').remove();\n    d3.select(vm._config.bindTo).html('');\n\n    //Add the css template class\n    if(vm._config.template){\n      d3.select(vm._config.bindTo).classed(vm._config.template, true)\n    }\n\n    //Add title to the chart\n    if(vm._config.chart && vm._config.chart.title){\n      d3.select(vm._config.bindTo).append(\"div\")\n        .attr(\"class\", \"chart-title\")\n        .html(vm._config.chart.title)\n    }\n\n    //Add Legend to the chart\n    //@TODO - PASS THE STYLES TO DBOX.CSS\n    //@TODO - ALLOW DIFFERENT POSSITIONS FOR THE LEGEND\n    if(vm._config.legend && vm._config.legend.enable === true && vm._config.legend.position === 'top'){\n      var legend = d3.select(vm._config.bindTo).append(\"div\")\n        .attr(\"class\", \"chart-legend-top\");\n\n      var html = '';\n      html+=\"<div style='background-color:#E2E2E1;text-align:center;height: 40px;margin: 0px 15px'>\";\n      vm._config.legend.categories.forEach(function(c){\n        html+=\"<div class='dbox-legend-category-title' style='margin:0 20px;'><span class='dbox-legend-category-color' style='background-color:\"+c.color+\";'> </span><span style='height: 10px;float: left;margin: 10px 5px 5px 5px;border-radius: 50%;'>\"+c.title+\"</span></div>\";\n      })\n      html+=\"</div>\";\n      legend.html(html)\n    }\n\n\n    //Create the svg\n    vm._svg = d3.select(vm._config.bindTo).append(\"svg\")\n      .style(\"font-size\", vm._config.chart ? vm._config.chart['font-size'] ? vm._config.chart['font-size'] : '12px' : '12px'  )\n      .attr(\"width\", vm._width + vm._margin.left + vm._margin.right)\n      .attr(\"height\", vm._height + vm._margin.top + vm._margin.bottom)\n      .append(\"g\")\n      .attr(\"transform\", \"translate(\" + vm._margin.left + \",\" + vm._margin.top + \")\")\n      \n\n    //Call the tip function\n    /*if(vm._config.data.tip){\n      vm._svg.call(vm._tip);\n    }*/\n\n    //Apply background color\n    if(vm._config.chart && vm._config.chart.background && vm._config.chart.background.color){\n      d3.select(vm._config.bindTo+\" svg\").style('background-color', vm._config.chart.background.color )\n    }\n\n    var legendBottom = d3.select(vm._config.bindTo).append(\"div\")\n        .attr(\"class\", \"chart-legend-bottom\");\n    //Legend for average lines\n    /*\n    if(vm._config.plotOptions && vm._config.plotOptions.bars\n      && vm._config.plotOptions.bars.averageLines && Array.isArray(vm._config.plotOptions.bars.averageLines)\n      && vm._config.plotOptions.bars.averageLines.length >0 ){\n\n      d3.select(vm._config.bindTo).append(\"div\")\n        .attr(\"class\", \"container-average-lines\")\n        .append('div')\n          .attr(\"class\", \"legend-average-lines\")\n        .html('Average Lines Controller')\n    }\n    */\n\n  }\n\n  Chart.prototype.drawGrid = function() {\n    var vm = this;\n    return vm;\n  };\n\n  Chart.prototype.drawAxes = function(){\n    var vm = this;\n    var xAxis, yAxis;\n\n    if(!vm._config.xAxis || ( vm._config.xAxis && vm._config.xAxis.enabled !== false ) ){\n      xAxis = vm._svg.append(\"g\")\n        .attr(\"class\", \"x axis\")\n        .attr(\"transform\", \"translate(0,\" + vm._height + \")\")\n        .call(vm._axes.x);\n    }\n\n    if(!vm._config.yAxis || ( vm._config.yAxis && vm._config.yAxis.enabled !== false ) ){\n      yAxis = vm._svg.append(\"g\")\n        .attr(\"class\", \"y axis\")\n        .call(vm._axes.y);\n    }\n\n    /*xAxis.selectAll('text')\n      .on(\"click\",function(d,i){\n        vm._config.xAxis.onclick.call(this, d, i);\n      });*/\n\n    if(vm._config.xAxis && vm._config.xAxis.text){\n      xAxis.append(\"text\")\n        .attr(\"class\", \"label title\")\n        .attr(\"x\", vm._width/2)\n        .attr(\"y\",  vm._config.xAxis.y ? vm._config.xAxis.y : 30)\n        .style(\"text-anchor\", \"middle\")\n        .style(\"fill\", vm._config.xAxis.fill ? vm._config.xAxis.fill : 'black' )\n        .style(\"font-size\", vm._config.xAxis['font-size'] ? vm._config.xAxis['font-size'] : '12px' )\n        .style(\"font-weight\", vm._config.xAxis['font-weight'] ? vm._config.xAxis['font-weight'] : '600' )\n        .text(vm._config.xAxis.text);\n    }\n\n    if(vm._config.xAxis && vm._config.xAxis.dropdown && vm._config.xAxis.dropdown.enable === true){\n      var xAxisDropDown = d3.select(vm._config.bindTo).append(\"div\").attr('class','dbox-xAxis-select')\n                            .append(\"select\")\n                            .on(\"change\", function(){\n                              vm.updateAxis('x', this.value)\n                            });\n\n      xAxisDropDown.selectAll(\"option\")\n        .data(vm._config.xAxis.dropdown.options)\n        .enter().append(\"option\")\n        .attr(\"value\", function (d) { return d.value; })\n        .text(function (d) { return d.title; })\n        .property(\"selected\", function(d){ return d.selected  })\n\n    }\n\n    if(vm._config.yAxis && vm._config.yAxis.enabled !== false){\n\n      if(vm._config.yAxis && vm._config.yAxis.text){\n        yAxis.append(\"text\")\n          .attr(\"class\", \"label title\")\n          .attr(\"transform\", \"rotate(-90)\")\n          .attr(\"y\", vm._config.yAxis.y ? vm._config.yAxis.y : -50)\n          .attr(\"x\", -150)\n          .attr(\"dy\", \".71em\")\n          .style(\"text-anchor\", \"middle\")\n          .style(\"fill\", vm._config.yAxis.fill ? vm._config.yAxis.fill : 'black' )\n          .style(\"font-size\", vm._config.yAxis['font-size'] ? vm._config.yAxis['font-size'] : '12px' )\n          .style(\"font-weight\", vm._config.xAxis['font-weight'] ? vm._config.xAxis['font-weight'] : '600' )\n          .text(vm._config.yAxis.text);\n      }\n    }\n\n    if(vm._config.yAxis && vm._config.yAxis.dropdown && vm._config.yAxis.dropdown.enable === true){\n      var yAxisDropDown = d3.select(vm._config.bindTo).append(\"div\").attr('class','dbox-yAxis-select')\n                            .attr('style', function(){\n                              var x = -1*d3.select(vm._config.bindTo).node().getBoundingClientRect().width/2+ vm._chart._margin.left/4;\n                              var y = -1*d3.select(vm._config.bindTo).node().getBoundingClientRect().height/2;\n                              return 'transform: translate('+x+'px,'+y+'px) rotate(-90deg);'\n                            })\n                            .append(\"select\")\n                            .on(\"change\", function(){\n                              vm.updateAxis('y', this.value)\n                            });\n\n      yAxisDropDown.selectAll(\"option\")\n        .data(vm._config.yAxis.dropdown.options)\n        .enter().append(\"option\")\n        .attr(\"value\", function (d) { return d.value; })\n        .text(function (d) { return d.title; })\n        .property(\"selected\", function(d){ return d.selected  })\n\n    }\n\n  }\n\n  Chart.prototype.drawGraphs = function(){\n    var vm = this;\n    vm.layers.forEach(function(gr){\n      gr.data(vm._data)\n        .scales(vm._scales)\n        .axes(vm._axes)\n        .domains()\n        .draw();\n\n      //@TODO validate domains from multiple layers\n      vm._scales = gr._scales;\n    })\n  }\n\n  Chart.prototype.dispatch = d3.dispatch(\"load\", \"change\");\n\n  Chart.prototype.mapData  =  function (data, callback){\n    callback(null, data);\n  }\n\n  Chart.prototype.getDomains = function(data){\n    var vm = this;\n\n    var domains = {};\n    var minMax = [];\n      var sorted = '';\n\n\n      //Default ascending function\n      var sortFunctionY = function(a, b) { return d3.ascending(a.y,b.y); };\n      var sortFunctionX = function(a, b) { return d3.ascending(a.x,b.x); };\n\n\n      //if applying sort\n      if(vm._config.data.sort && vm._config.data.sort.order){\n        switch(vm._config.data.sort.order){\n          case 'asc':\n            sortFunctionY = function(a, b) { return d3.ascending(a.y,b.y); };\n            sortFunctionX = function(a, b) { return d3.ascending(a.x,b.x); };\n          break;\n\n          case 'desc':\n            sortFunctionY = function(a, b) { return d3.descending(a.y,b.y); };\n            sortFunctionX = function(a, b) { return d3.descending(a.x,b.x); };\n          break;\n        }\n      }\n\n\n    //xAxis\n    if(vm._config.xAxis && vm._config.xAxis.scale){\n      switch(vm._config.xAxis.scale){\n        case 'linear':\n          minMax = d3.extent(data, function(d) { return d.x; })\n          domains.x = minMax;\n        break;\n\n        case 'time':\n              minMax = d3.extent(data, function(d) { return d.x; })\n              domains.x = minMax;\n        break;\n\n        case 'ordinal':\n\n              //If the xAxis' order depends on the yAxis values\n              if(vm._config.data.sort && vm._config.data.sort.axis === 'y'){\n                sorted = data.sort(sortFunctionY);\n              }else {\n                sorted = data.sort(sortFunctionX);\n              }\n\n              domains.x = [];\n              sorted.forEach(function(d){\n                domains.x.push(d.x);\n              })\n\n        break;\n\n            case 'quantile':\n\n              //The xAxis order depends on the yAxis values\n              if(vm._config.data.sort && vm._config.data.sort.axis === 'y'){\n                sorted = data.sort(sortFunctionY);\n              }else {\n                sorted = data.sort(sortFunctionX);\n              }\n\n              domains.q = [];\n              sorted.forEach(function(d){\n                domains.q.push(d.x);\n              })\n\n              domains.x = d3.range(vm._config.xAxis.buckets);\n\n            break;\n\n\n        default:\n          minMax = d3.extent(data, function(d) { return d.x; })\n          domains.x = minMax;\n        break;\n      }\n    }else{\n      minMax = d3.extent(data, function(d) { return d.x; })\n      domains.x = minMax;\n    }\n\n    //yAxis\n    if(vm._config.yAxis && vm._config.yAxis.scale){\n      switch(vm._config.yAxis.scale){\n        case 'linear':\n          minMax = d3.extent(data, function(d) { return d.y; })\n\n          //Adjust for min values greater than zero\n          //set the min value to -10%\n          if(minMax[0] > 0 ){\n            minMax[0] = minMax[0] - (minMax[1]- minMax[0])*.1\n          }\n          domains.y = minMax;\n        break;\n\n        case 'time':\n          minMax = d3.extent(data, function(d) { return d.y; })\n                domains.y = minMax;\n        break;\n\n        case 'ordinal':\n              if(vm._config.data.sort && vm._config.data.sort.axis === 'y'){\n\n                var sorted = data.sort(function(a, b) { return d3.ascending(a.y,b.y); });\n                domains.y = [];\n                sorted.forEach(function(d){\n                  domains.y.push(d.x);\n                })\n\n              }else{\n                domains.y = d3.map(data, function(d) {\n                  return d.y;\n                }).keys().sort(function(a, b) { return d3.ascending(a,b); });\n              }\n\n        break;\n\n        default:\n          minMax = d3.extent(data, function(d) { return d.y; })\n          domains.y = minMax;\n        break;\n      }\n    }else{\n      minMax = d3.extent(data, function(d) { return d.y; })\n      domains.y = minMax;\n    }\n\n\n    return domains;\n  }\n\n  Chart.prototype.destroy = function(){\n    var vm = this;\n    d3.select(vm._config.bindTo).html(\"\");\n  }\n\n  return new Chart(config);\n}\n","/*\n * Simple Scatter chart\n */\n\nimport * as d3 from \"d3\";\n\nexport default function(config) {\n\n  function Scatter(config) {\n    var vm = this;\n    vm._config = config ? config : {};\n    vm._data = [];\n    vm._scales = {};\n    vm._axes = {};\n    vm._tip = d3.tip().attr('class', 'd3-tip');\n  }\n\n  //-------------------------------\n  //User config functions\n  Scatter.prototype.x = function(col) {\n    var vm = this;\n    vm._config.x = col;\n    return vm;\n  }\n\n  Scatter.prototype.y = function(col) {\n    var vm = this;\n    vm._config.y = col;\n    return vm;\n  }\n\n  Scatter.prototype.radius = function(radius) {\n    var vm = this;\n    vm._config.radius = radius;\n    return vm;\n  }\n\n  Scatter.prototype.radiusRange = function(radiusRange) {\n    var vm = this;\n    vm._config.radiusRange = radiusRange;\n    return vm;\n  }\n\n  Scatter.prototype.properties = function(properties){\n    var vm = this;\n    vm._config.properties = properties;\n    return vm;\n  }\n\n  Scatter.prototype.colors = function(col) {\n    var vm = this;\n    vm._config.colors = col;\n    return vm;\n  }\n\n  Scatter.prototype.opacity = function(opacity) {\n    var vm = this;\n    vm._config.opacity = opacity;\n    return vm;\n  }\n\n  Scatter.prototype.tip = function(tip){\n    var vm = this;\n    vm._config.tip = tip;\n    vm._tip.html(vm._config.tip);\n    return vm;\n  }\n\n  Scatter.prototype.end = function() {\n    var vm = this;\n    return vm._chart;\n  }\n\n  //-------------------------------\n  //Triggered by chart.js;\n  Scatter.prototype.chart = function(chart) {\n    var vm = this;\n    vm._chart = chart;\n    return vm;\n  }\n\n  Scatter.prototype.data = function(data) {\n    var vm = this;\n    vm._data = data.map(function(d) {\n      var m = {};\n      m.x = +d[vm._config.x];\n      m.y = +d[vm._config.y];\n      m.color = vm._config.colors.slice(0,1) !== '#' ? d[vm._config.colors] : vm._config.colors;\n      m.radius = vm._config.radius !== undefined ? d[vm._config.radius] : 5;      \n      if(vm._config.properties !== undefined && Array.isArray(vm._config.properties) && vm._config.properties.length > 0){\n        vm._config.properties.forEach(function(p){\n          m[p] = d[p];\n        })\n      }\n      return m;\n    });\n    return vm;\n  }\n\n  Scatter.prototype.scales = function(s) {\n    var vm = this;\n    vm._scales = s;\n    return vm;\n  }\n\n  Scatter.prototype.axes = function(a) {\n    var vm = this;\n    vm._axes = a;\n    return vm;\n  }\n\n  Scatter.prototype.domains = function() {\n    var vm = this;\n    var xMinMax = d3.extent(vm._data, function(d) {\n        return d.x;\n      }),\n      yMinMax = d3.extent(vm._data, function(d) {\n        return d.y;\n      }), \n      radiusMinMax = d3.extent(vm._data, function(d) {\n        return d.radius;\n      }); \n    var arrOk = [0, 0];\n\n    if (vm._config.fixTo45) {\n      if (xMinMax[1] > yMinMax[1]) {\n        arrOk[1] = xMinMax[1];\n      } else {\n        arrOk[1] = yMinMax[1];\n      }\n\n      if (xMinMax[0] < yMinMax[0]) {\n        //yMinMax = xMinMax;\n        arrOk[0] = xMinMax[0];\n      } else {\n        arrOk[0] = yMinMax[0];\n      }\n\n      vm._scales.x.domain(arrOk).nice();\n      vm._scales.y.domain(arrOk).nice();\n      vm._scales.radius = d3.scaleLinear()\n                          .range(vm._config.radiusRange !== undefined ? vm._config.radiusRange : [5, 15])\n                          .domain(radiusMinMax).nice(); \n\n    } else {\n      vm._scales.x.domain(xMinMax).nice();\n      vm._scales.y.domain(yMinMax).nice();\n      vm._scales.radius = d3.scaleLinear()\n                          .range(vm._config.radiusRange !== undefined ? vm._config.radiusRange : [5, 15])\n                          .domain(radiusMinMax).nice(); \n\n    }\n\n    return vm;\n  };\n\n  Scatter.prototype.draw = function() {\n    var vm = this;\n    \n    //Call the tip\n    vm._chart._svg.call(vm._tip)\n   \n    var circles = vm._chart._svg.selectAll(\".dot\")\n      .data(vm._data)\n      //.data(vm._data, function(d){ return d.key})\n      .enter().append(\"circle\")\n      .attr(\"class\", \"dot\")\n      .attr(\"class\",function(d,i){\n        return d.properties !== undefined &&  d.properties.id !== undefined ? \"scatter-\"+d.properties.id : \"scatter-\"+i;\n      })\n      .attr(\"r\", function(d){\n        return vm._scales.radius(d.radius);\n      })\n      .attr(\"cx\", function(d) {\n        return vm._scales.x(d.x);\n      })\n      .attr(\"cy\", function(d) {\n        //console.log(d, vm._scales, vm._scales.y(d.y));\n        return vm._scales.y(d.y);\n      })\n      .style(\"fill\", function(d) {\n        return d.color.slice(0,1) !== '#' ?  vm._scales.color(d.color) : d.color;\n      })\n      .style(\"opacity\", vm._config.opacity !== undefined ? vm._config.opacity  : 1 )\n      .on('mouseover', function(d, i) {\n        if (vm._config.mouseover) {\n          vm._config.mouseover.call(vm, d, i);\n        }\n        vm._tip.show(d, d3.select(this).node());\n      })\n      .on('mouseout', function(d, i) {\n        if (vm._config.mouseout) {\n          vm._config.mouseout.call(this, d, i);\n        }\n        vm._tip.hide(d, d3.select(this).node());\n      })\n      .on(\"click\", function(d, i) {\n        if (vm._config.onclick) {\n          vm._config.onclick.call(this, d, i);\n        }\n      });\n\n    return vm;\n  }\n\n  Scatter.prototype.select = function(id){\n    var vm = this; \n    return vm._chart._svg.select(\"circle.scatter-\"+id);\n  }\n\n  Scatter.prototype.selectAll = function(id){\n    var vm = this; \n    return vm._chart._svg.selectAll(\"circle\");\n  }\n\n  return new Scatter(config);\n}","/* Simple timeline example\n * Single and multiline timelines\n */\n\nimport * as d3 from 'd3';\nimport * as textures from 'textures';\n\nexport default function(config) {\n\n  var parseDate = d3.timeParse('%Y-%m-%d');\n\n  function Timeline(config){\n    var vm = this;\n    vm._config = config ? config : {};\n    vm._config.area = false; \n    vm._data = [];\n    vm._scales ={};\n    vm._axes = {};\n\n    vm._line = d3.line()\n      .curve(d3.curveBasis)\n      .x(function(d) { return vm._scales.x(d.x); })\n      .y(function(d) { return vm._scales.y(d.y); });\n\n\n    vm._area = d3.area()\n      .curve(d3.curveBasis)\n      .x(function(d) {\n        if (d.alreadyScaled && d.alreadyScaled === true){\n          return d.x;\n        }else{\n          return vm._scales.x(d.x);\n        }\n      })\n      .y1(function(d) {\n        if (d.alreadyScaled && d.alreadyScaled === true){\n          return d.y;\n        }else{\n          return vm._scales.y(d.y);\n        }\n\n      });\n\n  }\n\n  //-------------------------------\n  //User config functions\n  Timeline.prototype.x = function(col){\n    var vm = this;\n    vm._config.x = col;\n    return vm;\n  }\n\n  Timeline.prototype.y = function(col){\n    var vm = this;\n    vm._config.y = col;\n    return vm;\n  }\n\n  Timeline.prototype.series = function(arr){\n    var vm = this;\n    vm._config.series = arr;\n    return vm;\n  }\n\n  Timeline.prototype.colors = function(arr){\n    var vm = this;\n    vm._config.colors = arr;\n    return vm;\n  }\n\n  Timeline.prototype.timeParse = function(timeParse){\n    var vm = this;\n    parseDate= d3.timeParse(timeParse);\n    return vm;\n  }\n\n  Timeline.prototype.area = function(area){\n    var vm = this;\n    vm._config.area = area;\n    return vm;\n  }\n\n  Timeline.prototype.color = function(col){\n    var vm = this;\n    vm._config.color = col;\n    return vm;\n  }\n\n  Timeline.prototype.end = function(){\n    var vm = this;\n    return vm._chart;\n  }\n\n  //-------------------------------\n  //Triggered by the chart.js;\n  Timeline.prototype.chart = function(chart){\n    var vm = this;\n    vm._chart = chart;\n    return vm;\n  }\n\n\n  Timeline.prototype.data = function(data){\n    var vm = this;\n\n    vm._data = data.map(function(d){\n      d.x = parseDate(d[vm._config.x]);\n      delete(d[vm._config.x]);\n      return d;\n    });\n\n    vm._lines = vm._config.y ? vm._config.y : vm._config.series;\n\n    vm._lines = vm._lines.map(function(name) {\n      return {\n        name: name,\n        values: data.map(function(d) {\n          return {x: d.x, y: +d[name]};\n        })\n      };\n    });\n    return vm;\n  }\n\n  Timeline.prototype.scales = function(s){\n    var vm = this;\n    vm._scales = s;\n    return vm;\n  }\n\n  Timeline.prototype.axes = function(a){\n    var vm = this;\n    vm._axes = a;\n    return vm;\n  }\n\n  Timeline.prototype.domains = function(){\n    var vm = this;\n    vm._xMinMax = d3.extent(vm._data, function(d) { return d.x; });\n\n    vm._yMinMax = [\n      d3.min(vm._lines, function(c) { return d3.min(c.values, function(v) { return v.y; }); }),\n      d3.max(vm._lines, function(c) { return d3.max(c.values, function(v) { return v.y; }); })\n    ];\n\n    vm._scales.x.domain(vm._xMinMax)\n    vm._scales.y.domain(vm._yMinMax)\n\n    //console.log(vm._scales.x.domain(), vm._chart._scales.x.domain())\n\n    vm._chart._scales = vm._scales;\n\n    return vm;\n  };\n\n  Timeline.prototype.draw = function(){\n    var vm = this;\n\n    var lines = vm._chart._svg.selectAll(\".lines\")\n      .data(vm._lines)\n    .enter().append(\"g\")\n      .attr(\"class\", \"lines\");\n\n    var path = vm._chart._svg.selectAll(\".lines\").append(\"path\")\n      .attr(\"class\", \"line\")\n      .attr(\"d\", function(d) {\n        return vm._line(d.values);\n      })\n      .style(\"stroke\", function(d, i ){\n        return vm._config.colors[i];\n      })\n      .style(\"fill\", 'none');\n\n    //var t = textures.lines().thicker();\n    //vm._chart._svg.call(t);\n\n    if(vm._config.area === true){\n      vm._area.y0(vm._scales.y(vm._yMinMax[0]));\n\n      var areas = vm._chart._svg.selectAll(\".areas\")\n        .data(vm._lines)\n      .enter().append(\"g\")\n        .attr(\"class\", \"areas\");\n\n      var pathArea  = vm._chart._svg.selectAll(\".areas\").append(\"path\")\n        .attr(\"class\", \"area\")\n        .attr(\"d\", function(d) {\n          return vm._area(d.values);\n        })\n        .attr(\"fill\",  function(d, i ){\n          return vm._config.colors[i];\n        });\n    }\n    \n\n    /*path.each(function(d) { d.totalLength = this.getTotalLength(); })\n      .attr(\"stroke-dasharray\", function(d) { return d.totalLength + \" \" + d.totalLength; })\n      .attr(\"stroke-dashoffset\", function(d) { return d.totalLength; })\n      .transition()\n        .duration(5000)\n        .ease(d3.easeLinear)\n        .attr(\"stroke-dashoffset\", 0);*/\n\n    return vm;\n  }\n\n  return new Timeline(config);\n}\n\n\n/*import chart from './chart.js';\n\nfunction Timeline(config) {\n  var vm = this;\n  vm._config = config;\n  vm._chart;\n  vm._scales = {};\n  vm._axes = {};\n}\n\nTimeline.prototype = timeline.prototype = {\n\tgenerate:function(){\n\t\tvar vm = this, q;\n\n\t\tvm.draw();\n    vm.setScales();\n\t\tvm.setAxes();\n\n\t\tq = vm._chart.loadData();\n\n    q.await(function(error,data){\n      if (error) {\n        //console.log(error)\n        throw error;\n        return false;\n      }\n\n      vm.setData(data);\n      vm.setDomains();\n      vm.drawAxes();\n      console.log(\"generate\", vm._data);\n      vm.drawData();\n    })\n\n\t},\n\tdraw : function(){\n\t\tvar vm = this\n\t\tvm._chart = chart(vm._config);\n\t},\n\tsetScales: function(){\n\t\tvar vm = this;\n\n\t\tvm._scales.x = d3.scaleTime()\n\t\t  .range([0, vm._chart._width]);\n\n\t\tvm._scales.y = d3.scaleLinear()\n\t\t  .range([vm._chart._height, 0]);\n\n    vm._scales.color = d3.scaleOrdinal(d3.schemeCategory20c);\n\t},\n\tsetAxes : function(){\n\t\tvar vm = this;\n\n\t\tvm._axes.x = d3.svg.axis()\n\t\t  .scale(vm._scales.x)\n\t\t  .orient(\"bottom\");\n\n\t\tvm._axes.y = d3.svg.axis()\n\t\t  .scale(vm._scales.y)\n\t\t  .orient(\"left\");\n\n\n    if(vm._config.yAxis && vm._config.yAxis.ticks\n        && vm._config.yAxis.ticks.enabled === true && vm._config.yAxis.ticks.style ){\n\n      switch(vm._config.yAxis.ticks.style){\n        case 'straightLine':\n          vm._axes.y\n            .tickSize(-vm._chart._width,0);\n        break;\n      }\n\n    }\n\n    if( vm._config.yAxis.ticks.format){\n      console.log('Set tick format');\n      vm._axes.y.tickFormat(vm._config.yAxis.ticks.format);\n    }\n\t},\n\tsetData:function(data){\n    var vm = this;\n    var keys = d3.keys(data[0]).filter(function(key) { return key !== \"date\"; });\n\n    var series = keys.map(function(name) {\n      return {\n        name: name,\n        values: data.map(function(d) {\n          return {x: d.date, y: +d[name]};\n        })\n      };\n    });\n\n    vm._data = series;\n  },\n  setDomains:function(){\n    var vm = this;\n\n    vm._scales.color.domain(vm._data.map(function(serie){\n      return serie.name;\n    }));\n\n    vm._scales.x.domain([\n      d3.min(vm._data, function(c) { return d3.min(c.values, function(v) { return v.x; }); }),\n      d3.max(vm._data, function(c) { return d3.max(c.values, function(v) { return v.x; }); })\n    ]);\n\n    vm._scales.y.domain([\n      d3.min(vm._data, function(c) { return d3.min(c.values, function(v) { return v.y; }); }),\n      d3.max(vm._data, function(c) { return d3.max(c.values, function(v) { return v.y; }); })\n    ]);\n  },\n  drawAxes:function(){\n    var vm = this;\n\n    vm._chart._svg.append(\"g\")\n        .attr(\"class\", \"x axis\")\n        .attr(\"transform\", \"translate(0,\" + vm._chart._height + \")\")\n        .call(vm._axes.x)\n      .append(\"text\")\n        .attr(\"class\", \"label\")\n        .attr(\"x\", vm._chart._width)\n        .attr(\"y\", -6)\n        .style(\"text-anchor\", \"end\")\n        .text(\"\");\n\n    var yAxis = vm._chart._svg.append(\"g\")\n        .attr(\"class\", \"y axis\")\n        .call(vm._axes.y)\n\n\n    if(vm._config.yAxis && vm._config.yAxis.text){\n      yAxis.append(\"text\")\n        .attr(\"class\", \"label\")\n        .attr(\"transform\", \"rotate(-90)\")\n        .attr(\"x\", -vm._chart._height/2)\n        .attr(\"y\", -vm._config.size.margin.left + 10)\n        .attr(\"dy\", \".71em\")\n        .style(\"text-anchor\", \"middle\")\n        .style(\"font-size\",\"14px\")\n        .text(vm._config.yAxis.text);\n    }\n\n  },\n  drawData : function(){\n    var vm = this;\n    var line = d3.svg.line()\n        .interpolate(vm._config.data.interpolation)\n        .defined(function(d) { return d; })\n        .x(function(d) { return vm._scales.x(d.x); })\n        .y(function(d) { return vm._scales.y(d.y); });\n\n    var series = vm._chart._svg.selectAll(\".series\")\n        .data(vm._data)\n      .enter().append(\"g\")\n        .attr(\"class\", \"series\")\n\n    series.append(\"path\")\n        .attr(\"class\", \"line\")\n        .attr(\"d\", function(d) { return line(d.values); })\n        .style(\"stroke-dasharray\",function(d){ if(d.name == \"Nacional\"){\n            return (\"10,5\");\n          }})\n        .style(\"stroke\", function(d) {\n          if(d.color){ return d.color; }\n          else { return vm._scales.color(d.key); }\n        }) //return vm._scales.color(d.name); })\n        .style(\"stroke-width\", 3);\n\n\n    series.selectAll('.dot')\n        .data(function(d){return d.values})\n      .enter().append(\"circle\")\n        .attr(\"class\", \"dot\")\n        .attr(\"r\", 3)\n        .attr(\"cx\", function(d) { return vm._scales.x(d.x); })\n        .attr(\"cy\", function(d) { return vm._scales.y(d.y); })\n        .style(\"fill\", function(d) {\n          if(d.color){ return d.color; }\n          else { return vm._scales.color(d.key); }\n        })//return vm._scales.color(d.name); })\n        .style(\"stroke\", function(d) {\n          if(d.color){ return d.color; }\n          else { return vm._scales.color(d.key); }\n        }) // return vm._scales.color(d.name); })\n        .on('mouseover', function(d,i){\n          if(vm._config.data.mouseover){\n            vm._config.data.mouseover.call(vm, d,i)\n          }\n          vm._chart._tip.show(d, d3.select(this).node())\n        })\n        .on('mouseout',function(d,i){\n          if(vm._config.data.mouseout){\n            vm._config.data.mouseout.call(vm, d,i)\n          }\n          vm._chart._tip.hide(d, d3.select(this).node())\n        });\n\n        //series.selectAll('.dot-inside')\n        //  .data(function(d){return d.values})\n        //.enter().append(\"circle\")\n        //  .attr(\"class\", \"dot-inside\")\n        //  .attr(\"r\", 4)\n        //  .attr(\"cx\", function(d) { return vm._scales.x(d.x); })\n        //  .attr(\"cy\", function(d) { return vm._scales.y(d.y); })\n        //  .style(\"fill\", 'black')//return vm._scales.color(d.name); })\n        //  .style(\"stroke\", function(d) { return d.color;}) // return vm._scales.color(d.name); })\n        //  .on('mouseover', function(d,i){\n        //    if(vm._config.data.mouseover){\n        //      vm._config.data.mouseover.call(vm, d,i)\n        //    }\n        //    vm._chart._tip.show(d, d3.select(this).node())\n        //  })\n        //  .on('mouseout',function(d,i){\n        //    if(vm._config.data.mouseout){\n        //      vm._config.data.mouseout.call(vm, d,i)\n        //    }\n        //    vm._chart._tip.hide(d, d3.select(this).node())\n        //  });\n\n\n    //series.append(\"text\")\n    //    .datum(function(d) { return {name: d.name, value: d.values[d.values.length - 1]}; })\n    //    .attr(\"transform\", function(d) { return \"translate(\" + vm._scales.x(d.value.x) + \",\" + vm._scales.y(d.value.y) + \")\"; })\n    //    .attr(\"x\", 3)\n    //    .attr(\"dy\", \".35em\")\n    //    .text(function(d) { return d.name; });\n  }\n\n\n}\n\nexport default function timeline(config) {\n  return new Timeline(arguments.length ? config : null);\n}*/\n","import * as d3 from 'd3';\n\nexport default function(config) {\n\n  function Heatmap(config){\n    var vm = this;\n    vm._config = config ? config : {};\n    vm._data = [];\n    vm._scales ={};\n    vm._axes = {};\n    vm._gridSize = Math.floor(vm._config.size.width / 16);\n    vm._legendElementWidth = vm._gridSize;\n\n    vm._config._format     = d3.format(\",.1f\");\n\n    vm._tip = d3.tip().attr('class', 'd3-tip');\n  }\n\n  //-------------------------------\n  //User config functions\n  Heatmap.prototype.x = function(columns){\n    var vm = this;\n    vm._config.x = columns;\n    return vm;\n  }\n\n  Heatmap.prototype.y = function(columns){\n    var vm = this;\n    vm._config.y = columns;\n    return vm;\n  }\n\n  Heatmap.prototype.colors = function(colors){\n    var vm = this;\n    vm._config.colors = colors;\n    return vm;\n  }\n\n  Heatmap.prototype.tip = function(tip){\n    var vm = this;\n    vm._config.tip = tip;\n    vm._tip.html(vm._config.tip);\n    return vm;\n  }\n\n  Heatmap.prototype.buckets = function(b){\n    var vm = this;\n    vm._config.buckets = buckets;\n    return vm;\n  }\n\n  Heatmap.prototype.end = function(){\n    var vm = this;\n    return vm._chart;\n  }\n\n  //-------------------------------\n  //Triggered by the chart.js;\n  Heatmap.prototype.chart = function(chart){\n    var vm = this;\n    vm._chart = chart;\n    return vm;\n  }\n\n  Heatmap.prototype.data = function(data){\n    var vm = this;\n    vm._data = data.map(function(d){\n      var m = {\n        y: d.edad_mujer,\n        x: d.edad_hombre,\n        value: +d.tot,\n        percentage : +d.por,\n      };\n      return m;\n    });\n    return vm;\n  }\n\n  Heatmap.prototype.scales = function(s){\n    var vm = this;\n    vm._scales = s;\n    return vm;\n  }\n\n  Heatmap.prototype.axes = function(a){\n    var vm = this;\n    vm._axes = a;\n    return vm;\n  }\n\n  Heatmap.prototype.domains = function(){\n    var vm = this;\n    return vm;\n  };\n\n  Heatmap.prototype.draw = function(){\n    var vm = this;\n\n    //Call the tip\n    vm._chart._svg.call(vm._tip)\n\n    if(vm._config.xAxis){\n      vm._config.xAxis.y =  vm._config.y.length * vm._gridSize+25;\n    }else{\n      vm._config.xAxis = { 'y' : vm._config.y.length * vm._gridSize };\n    }\n\n    vm._dayLabels = vm._chart._svg.selectAll(\".dayLabel\")\n          .data(vm._config.y)\n          .enter().append(\"text\")\n            .text(function (d) { return d; })\n            .attr(\"x\", 0)\n            .attr(\"y\", function (d, i) { return i * vm._gridSize; })\n            .style(\"text-anchor\", \"end\")\n            .attr(\"transform\", \"translate(-6,\" + vm._gridSize / 1.5 + \")\")\n            .attr(\"class\", \"dayLabel mono axis\");\n            //.attr(\"class\", function (d, i) { return ((i >= 0 && i <= 4) ? \"dayLabel mono axis axis-workweek\" : \"dayLabel mono axis\"); });\n\n    vm._timeLabels = vm._chart._svg.selectAll(\".timeLabel\")\n        .data(vm._config.x)\n        .enter().append(\"text\")\n          .text(function(d) { return d; })\n          .attr(\"x\", function(d, i) { return i * vm._gridSize; })\n          .attr(\"y\", vm._config.xAxis.y)\n          .style(\"text-anchor\", \"middle\")\n          .attr(\"transform\", \"translate(\" + vm._gridSize / 2 + \", -6)\")\n          .attr(\"class\", \"timeLabel mono axis\");\n          //.attr(\"class\", function(d, i) { return ((i >= 7 && i <= 16) ? \"timeLabel mono axis axis-worktime\" : \"timeLabel mono axis\"); });\n\n\n    var colorScale = d3.scaleQuantile()\n        .domain([0, d3.max(vm._data, function (d) { return d.value; })])\n        .range(vm._config.colors);\n\n    var cards = vm._chart._svg.selectAll(\".hour\")\n        .data(vm._data, function(d) {\n          return d.y+':'+d.x;\n        });\n\n    cards.enter().append(\"rect\")\n        .attr(\"x\", function(d) { return (vm._config.x.indexOf(d.x) ) * vm._gridSize; })\n        .attr(\"y\", function(d) { return (vm._config.y.indexOf(d.y)) * vm._gridSize; })\n        .attr(\"rx\", 4)\n        .attr(\"ry\", 4)\n        .attr(\"class\", \"hour bordered\")\n        .attr(\"id\", function(d){ return 'x' + d.x + 'y' + d.y;})\n        .attr(\"width\", vm._gridSize)\n        .attr(\"height\", vm._gridSize)\n        .on('mouseover', function(d,i){\n          /*if(vm._config.data.mouseover){\n            vm._config.data.mouseover.call(vm, d,i);\n          }*/\n          vm._tip.show(d, d3.select(this).node());\n        })\n        .on('mouseout', function(d,i){\n          /*if(vm._config.data.mouseout){\n            vm._config.data.mouseout.call(this, d,i);\n          }*/\n          vm._tip.hide(d, d3.select(this).node());\n        })\n        .on(\"click\", function(d,i){\n          if(vm._config.data.onclick){\n            vm._config.data.onclick.call(this, d, i);\n          }\n        })\n        .style(\"fill\", vm._config.colors[0])\n      .transition()\n        .duration(3000)\n        .ease(d3.easeLinear)\n        .style(\"fill\", function(d) { return colorScale(d.value); });\n\n\n  /*\n    var legend = vm._chart._svg.selectAll(\".legend\")\n        .data([0].concat(colorScale.quantiles()), function(d) { return d; });\n\n    var lgroup = legend.enter().append(\"g\")\n        .attr(\"class\", \"legend\");\n\n    lgroup.append(\"rect\")\n        .attr(\"x\", function(d, i) {  return vm._legendElementWidth * i; })\n        .attr(\"y\", vm._config.size.height - vm._config.size.margin.bottom*2)\n        .attr(\"width\", vm._legendElementWidth)\n        .attr(\"height\", vm._gridSize / 2)\n        .style(\"fill\", function(d, i) { return vm._config.colors[i]; });\n\n    lgroup.append(\"text\")\n        .attr(\"class\", \"mono\")\n        .text(function(d) { return \"â‰¥ \" + Math.round(d); })\n        .attr(\"x\", function(d, i) { return vm._legendElementWidth * i; })\n        .attr(\"y\", vm._config.size.height - vm._config.size.margin.bottom*2 + vm._gridSize);\n\n    legend.exit().remove();*/\n    return vm;\n  }\n\n  return new Heatmap(config);\n}\n\n","/* Simple SVG Treemap example\n */\n\nimport * as d3 from \"d3\";\nimport * as _ from \"lodash\";\n\nexport default function(config) {\n  function Treemap(config) {\n    var vm = this;\n    vm._config = config ? config : {};\n    vm._config._padding = 3;\n    vm._config._colorScale = d3.scaleOrdinal(d3.schemeCategory20c);\n    vm._config._format = d3.format(\",.1f\");\n    vm._config._labels = true;\n    vm._config.tip = function(d) {\n      return d.data.name + \"\\n\" + vm._config._format(d.value);\n    };\n    vm._data = [];\n    vm._scales = {};\n    vm._axes = {};\n    vm._tip = d3.tip()\n      .attr('class', 'd3-tip tip-treemap')\n      .direction('n')\n      .html(vm._config.tip);\n  }\n\n  //-------------------------------\n  //User config functions\n  Treemap.prototype.end = function() {\n    var vm = this;\n    return vm._chart;\n  }\n\n  Treemap.prototype.size = function(col) {\n    var vm = this;\n    vm._config._size = col;\n    return vm;\n  }\n\n  Treemap.prototype.colorScale = function(arrayOfColors) {\n    var vm = this;\n    vm._config._colorScale = d3.scaleOrdinal(arrayOfColors);\n    return vm;\n  }\n\n  Treemap.prototype.padding = function(padding) {\n    var vm = this;\n    vm._config._padding = padding;\n    return vm;\n  }\n\n  Treemap.prototype.nestBy = function(keys) {\n    var vm = this;\n    if (Array.isArray(keys)) {\n      if (keys.length == 0)\n        throw \"Error: nestBy() array is empty\";\n      vm._config._keys = keys;\n    } else if (typeof keys === 'string' || keys instanceof String) {\n      vm._config._keys = [keys];\n    } else {\n      if (keys == undefined || keys == null)\n        throw \"Error: nestBy() expects column names to deaggregate data\";\n      vm._config._keys = [keys.toString()];\n      console.warning(\"nestBy() expected name of columns. Argument will be forced to string version .toString()\");\n    }\n    vm._config._labelName = vm._config._keys[vm._config._keys.length - 1]; //label will be last key\n    return vm;\n  }\n\n  Treemap.prototype.format = function(format) {\n    var vm = this;\n    if (typeof format == 'function' || format instanceof Function)\n      vm._config._format = format;\n    else\n      vm._config._format = d3.format(format);\n    return vm;\n  }\n\n  Treemap.prototype.labels = function(bool) {\n    var vm = this;\n    vm._config._labels = Boolean(bool);\n    return vm;\n  };\n\n  Treemap.prototype.tip = function(tip) {\n    var vm = this;\n    vm._config.tip = tip;\n    vm._tip.html(vm._config.tip);\n    return vm;\n  }\n\n  //-------------------------------\n  //Triggered by the chart.js;\n  Treemap.prototype.chart = function(chart) {\n    var vm = this;\n    vm._chart = chart;\n    return vm;\n  }\n\n  Treemap.prototype.scales = function() {\n    var vm = this;\n    return vm;\n  }\n\n  Treemap.prototype.axes = function() {\n    var vm = this;\n    return vm;\n  }\n\n  Treemap.prototype.domains = function() {\n    var vm = this;\n    return vm;\n  }\n\n  Treemap.prototype.isValidStructure = function(datum) {\n    var vm = this;\n    if ((typeof datum.name === 'string' || datum.name instanceof String) && Array.isArray(datum.children)) {\n      var res = true;\n      datum.children.forEach(function(child) {\n        res = res && vm.isValidStructure(child);\n      });\n      return res;\n    } else if ((typeof datum.name === 'string' || datum.name instanceof String) && Number(datum[vm._config._size]) == datum[vm._config._size]) {\n      return true;\n    } else {\n      return false;\n    }\n  }\n\n  Treemap.prototype.formatNestedData = function(data) {\n    var vm = this;\n    if (data.key) {\n      data.name = data.key;\n      delete data.key;\n    } else {\n      if (!Array.isArray(data.values)) {\n        data.name = data[vm._config._labelName];\n      }\n    }\n    if (Array.isArray(data.values)) {\n      var children = [];\n      data.values.forEach(function(v) {\n        children.push(vm.formatNestedData(v))\n      });\n      data.children = children;\n      delete data.values;\n    }\n    if (!data[vm._config._size] && data.value) {\n      data[vm._config._size] = data.value;\n    }\n    return data;\n  }\n\n  function nestKey(nest, key, callback) {\n    callback(null, nest.key(function(d) {\n      return d[key];\n    }))\n  }\n\n  Treemap.prototype.data = function(data) {\n    var vm = this;\n    // Validate structure like [{name: '', children: [{},{}]}]\n    if (data) {\n      if (Array.isArray(data) && data.length > 0) {\n        if (!vm.isValidStructure(data[0])) {\n          data.forEach(function(d) {\n            d[vm._config._size] = +d[vm._config._size];\n          });\n          try {\n            if (!vm._config._keys)\n              throw \"nestBy() in layer was not configured\";\n            var nested = d3.nest();\n            var queue = d3.queue();\n            for (var i = 0; i < vm._config._keys.length; i++)\n              queue.defer(nestKey, nested, vm._config._keys[i])\n            queue.awaitAll(function(error, nested) {\n              var nestedData = nested[0].rollup(function(leaves) {\n                return d3.sum(leaves, function(d) {\n                  return d[vm._config._size];\n                })\n              }).entries(data);\n              var aux = {};\n              aux.key = 'data';\n              aux.values = _.cloneDeep(nestedData); // WARN: Lodash dependency\n              data = vm.formatNestedData(aux);\n              vm._data = data;\n            });\n\n          } catch (err) {\n            console.error(err);\n          }\n        }\n      } else {\n        if (!vm.isValidStructure(data)) {\n          try {\n            if (!data.key)\n              throw \"Property 'key' not found\";\n            if (data[vm._config._size] !== Number(data[vm._config._size]))\n              throw \"Value used for treemap rect size is not a number\";\n            data = vm.formatNestedData(data);\n            vm._data = data;\n          } catch (err) {\n            console.error(err);\n          }\n        }\n      }\n    }\n    return vm;\n  }\n\n  Treemap.prototype.draw = function() {\n    var vm = this;\n    vm._chart._svg.call(vm._tip);\n\n    var treemap = d3.treemap()\n      .tile(d3.treemapResquarify)\n      .size([vm._chart._width, vm._chart._height])\n      .round(true)\n      .paddingInner(vm._config._padding);\n\n    var root = d3.hierarchy(vm._data)\n      .eachBefore(function(d) {\n        d.data.id = (d.parent ? d.parent.data.id + \".\" : \"\") + d.data.name;\n      })\n      .sum(function(d) {\n        return d[vm._config._size];\n      })\n      .sort(function(a, b) {\n        return b.height - a.height || b.value - a.value;\n      });\n\n    treemap(root);\n\n    var cell = vm._chart._svg.selectAll(\"g\")\n      .data(root.leaves())\n      .enter().append(\"g\")\n      .attr(\"transform\", function(d) {\n        return \"translate(\" + d.x0 + \",\" + d.y0 + \")\";\n      });\n\n    var rect = cell.append(\"rect\")\n      .attr(\"id\", function(d) {\n        return d.data.id;\n      })\n      .attr(\"width\", function(d) {\n        return d.x1 - d.x0;\n      })\n      .attr(\"height\", function(d) {\n        return d.y1 - d.y0;\n      })\n      .attr(\"fill\", function(d) {\n        return vm._config._colorScale(d.data.id);\n      });\n\n    cell.append(\"clipPath\")\n      .attr(\"id\", function(d) {\n        return \"clip-\" + d.data.id;\n      })\n      .append(\"use\")\n      .attr(\"xlink:href\", function(d) {\n        return \"#\" + d.data.id;\n      });\n\n    if (vm._config._labels) {\n      var text = cell.append(\"text\")\n        .attr(\"clip-path\", function(d) {\n          return \"url(#clip-\" + d.data.id + \")\";\n        })\n      text.append(\"tspan\")\n        .attr('class', 'capitalize')\n        .attr(\"x\", 8)\n        .attr(\"y\", 25)\n        .text(function(d) {\n          if (d.value > 2) {\n            var arr = d.data.id.replace('data.', '').split('.');\n            return arr.length > 1 ? arr.slice(arr.length - 2, arr.length).join(' / ') : arr[arr.length - 1].toString();\n          } else\n            return '';\n        });\n      text.append(\"tspan\")\n        .attr('class', 'capitalize')\n        .attr(\"x\", 8)\n        .attr(\"y\", 45)\n        .text(function(d) {\n          return d.value > 2 ? vm._config._format(d.value) : '';\n        });\n    }\n\n    rect.on('mouseover', function(d) {\n        /*if(vm._config.data.mouseover){\n          vm._config.data.mouseover.call(vm, d,i);\n        }*/\n        vm._tip.show(d, d3.select(this).node());\n      })\n      .on('mouseout', function(d) {\n        /*if(vm._config.data.mouseout){\n          vm._config.data.mouseout.call(this, d,i);\n        }*/\n        vm._tip.hide(d, d3.select(this).node());\n      })\n\n    return vm;\n  }\n  return new Treemap(config);\n}","/*\n * Simple Bar chart\n */\n\nimport * as d3 from \"d3\";\n\nexport default function(config) {\n\n  function Bars(config) {\n    var vm = this;\n    vm._config = config ? config : {};\n    vm._data = [];\n    vm._config.colorScale = d3.schemeCategory20c;\n    vm._config._format = function(d){\n      if(d % 1 == 0){\n        return d3.format(\",.0f\")(d);\n      } else if(d < 1 && d > 0) {\n        return d3.format(\",.2f\")(d);\n      } else {\n        return d3.format(\",.1f\")(d);\n      }\n    };\n    vm._scales = {};\n    vm._axes = {};\n    //vm._tip = d3.tip().attr('class', 'd3-tip tip-bars').html(vm._config.data.tip || function(d){ return d;});\n    vm._tip = d3.tip()\n      .attr('class', 'd3-tip tip-treemap')\n      .direction('n')\n      .html(vm._config.tip || function(d){ return vm._config._format(d[vm._config.y])});\n  }\n\n  //-------------------------------\n  //User config functions\n  Bars.prototype.x = function(columnName) {\n    var vm = this;\n    vm._config.x = columnName;\n    return vm;\n  }\n\n  Bars.prototype.y = function(columnName) {\n    var vm = this;\n    vm._config.y = columnName;\n    return vm;\n  }\n\n  Bars.prototype.color = function(columnName) {\n    var vm = this;\n    vm._config.color = columnName;\n    return vm;\n  }\n\n  Bars.prototype.end = function() {\n    var vm = this;\n    return vm._chart;\n  }\n\n  Bars.prototype.colorScale = function(colorScale) {\n    var vm = this;\n    if(Array.isArray(colorScale)) {\n      vm._config.colorScale = colorScale;\n    } else {\n      vm._scales.color = colorScale;\n      vm._config.colorScale = colorScale.range();\n    }\n    return vm;\n  }\n\n  Bars.prototype.format = function(format) {\n    var vm = this;\n    if (typeof format == 'function' || format instanceof Function)\n      vm._config._format = format;\n    else\n      vm._config._format = d3.format(format);\n    return vm;\n  }\n\n  //-------------------------------\n  //Triggered by the chart.js;\n  Bars.prototype.chart = function(chart) {\n    var vm = this;\n    vm._chart = chart;\n    return vm;\n  }\n\n  Bars.prototype.data = function(data) {\n    var vm = this;\n    vm._data = data.map(function(d) {\n      if(d[vm._config.x] == Number(d[vm._config.x]))\n        d[vm._config.x] = +d[vm._config.x];\n      if(d[vm._config.y] == Number(d[vm._config.y]))\n        d[vm._config.y] = +d[vm._config.y];\n      return d;\n    });\n    return vm;\n  }\n\n  Bars.prototype.scales = function(s) {\n    var vm = this;\n    //vm._scales = s;\n    /* Use\n    * vm._config.x\n    * vm._config.xAxis.scale\n    * vm._config.y\n    * vm._config.yAxis.scale\n    * vm._data\n    */\n    /* Generate x scale */\n    var config = {\n        column: vm._config.x,\n        type: vm._config.xAxis.scale,\n        range: [0, vm._chart._width],\n        minZero: true\n    };\n    vm._scales.x = vm._chart.generateScale(vm._data, config);\n\n    /* Generate y scale */\n    config = {\n        column: vm._config.y,\n        type: vm._config.yAxis.scale,\n        range: [vm._chart._height, 0],\n        minZero: true\n    };\n    vm._scales.y = vm._chart.generateScale(vm._data, config);\n    vm._chart._scales.x = vm._scales.x;\n    vm._chart._scales.y = vm._scales.y;\n\n    if(!vm._scales.color)\n      vm._scales.color = d3.scaleOrdinal(vm._config.colorScale);\n    return vm;\n  }\n\n  Bars.prototype.axes = function(a) {\n    var vm = this;\n    vm._axes = a;\n    return vm;\n  }\n\n  Bars.prototype.domains = function() {\n    var vm = this;\n    return vm;\n  };\n\n  Bars.prototype.draw = function() {\n    var vm = this;\n    vm._chart._svg.call(vm._tip);\n\n    if(vm._config.xAxis.enabled) {\n       vm._chart._svg.append(\"g\")\n          .attr(\"class\", \"xAxis axis\")\n          .attr(\"transform\", \"translate(0,\" + vm._chart._height + \")\")\n          .call(d3.axisBottom(vm._scales.x)\n            .tickValues(vm._config.xAxis.tickValues)\n            .tickFormat(vm._config.xAxis.tickFormat)\n          );\n        //vm._chart._svg.selectAll(\".xAxis.axis text\").attr(\"transform\", \"translate(0,10)rotate(-20)\");\n    }\n\n    if(vm._config.yAxis.enabled) {\n      if(vm._config.yAxis.position == 'right') {\n        var yAxis = d3.axisRight(vm._scales.y)\n              .ticks(vm._config.yAxis.ticks)\n              .tickValues(vm._config.yAxis.tickValues)\n              .tickFormat(vm._config.yAxis.tickFormat);\n      } else {\n        var yAxis = d3.axisLeft(vm._scales.y)\n              .ticks(vm._config.yAxis.ticks)\n              .tickValues(vm._config.yAxis.tickValues)\n              .tickFormat(vm._config.yAxis.tickFormat);\n      }\n      var axisY = vm._chart._svg.append(\"g\")\n          .attr(\"class\", \"yAxis axis\");\n      if(vm._config.yAxis.position == 'right')\n        axisY.attr(\"transform\", \"translate(\" + vm._chart._width + \",0)\");\n      axisY.call(yAxis);\n        /*\n        Axis Title\n        .append(\"text\")\n          .attr(\"transform\", \"rotate(-90)\")\n          .attr(\"y\", 6)\n          .attr(\"dy\", \"0.71em\")\n          .attr(\"text-anchor\", \"end\")\n          .text(\"Frequency\");\n        */\n    }\n\n    vm._chart._svg.selectAll(\".bar\")\n        .data(vm._data)\n        .enter().append(\"rect\")\n          .attr(\"class\", \"bar\")\n          .attr(\"x\", function(d) { return vm._config.xAxis.scale == 'linear' && vm._config.yAxis.scale == 'linear'? 0 : vm._scales.x(d[vm._config.x]); })\n          .attr(\"y\", function(d) { return vm._scales.y(d[vm._config.y]);})\n          .attr(\"width\", function(d){ return vm._scales.x.bandwidth ? vm._scales.x.bandwidth() : vm._scales.x(d[vm._config.x]) })\n          .attr(\"height\", function(d) { return vm._chart._height - vm._scales.y(d[vm._config.y]); })\n          .attr(\"fill\", function(d){ return vm._scales.color(d[vm._config.color])})\n          .style(\"opacity\", 0.9)\n          .on('mouseover', function(d) {\n            vm._tip.show(d, d3.select(this).node());\n          })\n          .on('mouseout', function() {\n            vm._tip.hide();\n          })\n          .on('click', function() {\n\n          });\n    return vm;\n  }\n\n  return new Bars(config);\n}\n","/*\n * Build a radar chart.\n */\n\nexport default function(config) {\n  function Radar(config) {\n    var vm = this, size;\n\n    vm.CIRCLE_RADIANS = 2 * Math.PI;\n\n    // The first axis must be at the circle's top.\n    vm.RADIANS_TO_ROTATE = vm.CIRCLE_RADIANS / -4;\n\n    vm._config = config ? config : {};\n    vm._data = [];\n    vm._scales = {};\n    vm._axes = {};\n    vm._axesData = {};\n    vm._filter = null;\n    vm._minMax = [0, 0];\n    vm._viewData = [];\n    vm._colorMap = {};\n    vm._ticks = 0;\n    vm._scale = null;\n\n    // Set defaults.\n    if(!vm._config.ticks) {\n      vm._config.ticks = 10;\n    }\n\n    if(!vm._config.transitionDuration) {\n      vm._config.transitionDuration = 400;\n    }\n\n    if(!vm._config.axisLabelMargin) {\n      vm._config.axisLabelMargin = 24;\n    }\n\n    if(!vm._config.legend) {\n      vm._config.legend = {\n        enable: true\n      };\n    }\n\n    if(!vm._config.legend.at) {\n      vm._config.legend.at = {\n        x: 20,\n        y: 20\n      };\n    }\n\n    // Calculate basic data.\n    size = vm._config.size;\n\n    vm._center = {\n      x: (size.width / 2) - size.margin.left,\n      y: (size.height / 2) - size.margin.top\n    };\n\n    vm._radius = Math.min(\n      (size.width - size.margin.left - size.margin.right) / 2,\n      (size.height - size.margin.top - size.margin.bottom) / 2\n    );\n  }\n\n  // User API.\n\n  Radar.prototype.polygonsFrom = function(column) {\n    var vm = this;\n    vm._config.polygonsFrom = column;\n    return vm;\n  };\n\n  Radar.prototype.axesFrom = function(column) {\n    var vm = this;\n    vm._config.axesFrom = column;\n    return vm;\n  };\n\n  Radar.prototype.valuesFrom = function(column) {\n    var vm = this;\n    vm._config.valuesFrom = column;\n    return vm;\n  };\n\n  Radar.prototype.ticks = function(ticks) {\n    var vm = this;\n    vm._config.ticks = ticks;\n    return vm;\n  };\n\n  Radar.prototype.colors = function(colors) {\n    var vm = this;\n    vm._config.colors = colors;\n    return vm;\n  };\n\n  Radar.prototype.end = function() {\n    var vm = this;\n    return vm._chart;\n  };\n\n  // Internal helpers.\n\n  Radar.prototype.drawTicks = function() {\n    var vm = this,\n      svg = vm._chart._svg,\n      dur = vm._config.transitionDuration,\n      sel;\n\n    sel = svg.selectAll('circle.tick')\n      .data(vm._ticks);\n\n    sel\n      .transition()\n      .duration(dur)\n      .attr('r', function(d) { return vm._scale(d); });\n\n    sel.enter()\n      .append('circle')\n      .classed('tick', true)\n      .attr('cx', vm._center.x)\n      .attr('cy', vm._center.y)\n      .style('fill', 'none')\n      .style('stroke', 'gray')\n      .attr('r', function(d) { return vm._scale(d); })\n      .attr('opacity', 0)\n      .transition()\n      .duration(dur)\n      .attr('opacity', 1);\n\n    sel.exit()\n      .transition()\n      .duration(dur)\n      .attr('opacity', 0)\n      .remove();\n  };\n\n\n  Radar.prototype.drawTicksLabels = function() {\n    var vm = this,\n      svg = vm._chart._svg,\n      margin = 2,\n      dur = vm._config.transitionDuration,\n      sel;\n\n    sel = svg.selectAll('text.tick-label')\n      .data(vm._ticks);\n\n    sel\n      .transition()\n      .duration(dur)\n      .text(function(d) { return d; })\n      .attr('y', function(d) { return vm._center.y - margin - vm._scale(d); });\n\n    sel.enter()\n      .append('text')\n      .text(function(d) { return d; })\n      .attr('class', 'tick-label')\n      .attr('x', vm._center.x + margin)\n      .attr('y', function(d) { return vm._center.y - margin - vm._scale(d); })\n      .attr('fill', 'gray')\n      .style('font-family', 'sans-serif')\n      .attr('opacity', 0)\n      .transition()\n      .duration(dur)\n      .attr('opacity', 1);\n\n    sel.exit()\n      .transition()\n      .duration(dur)\n      .attr('opacity', 0)\n      .remove();\n  };\n\n  Radar.prototype.extractAxes = function(data) {\n    var result,\n      vm = this,\n      axes = vm._config.axesFrom,\n      radiansPerAxis;\n\n    result = data.reduce(\n      function(prev, item) {\n        return prev.indexOf(item[axes]) > -1\n          ? prev\n          : prev.concat(item[axes]);\n      }, []);\n\n    radiansPerAxis = (vm.CIRCLE_RADIANS / result.length);\n\n    result = result.map(\n      function(item, idx) {\n        return {\n          axis: item,\n          rads: (idx * radiansPerAxis) + vm.RADIANS_TO_ROTATE\n        };\n      });\n\n    return {\n      list: result,\n      hash: result.reduce(function(hashed, el) {\n        hashed[el.axis] = el;\n        return hashed;\n      }, {})\n    };\n  };\n\n  Radar.prototype.buildColorMap = function(data) {\n    var vm = this,\n      colors = vm._config.colors;\n    return data.reduce(function(cMap, row) {\n      var polyg = row[vm._config.polygonsFrom],\n        cIdx = cMap.index.indexOf(polyg);\n\n      if(cIdx == -1) {\n        cIdx = cMap.index.push(polyg) - 1;\n        cMap.hash[polyg] = colors[cIdx];\n        cMap.list.push({polygon: polyg, color: colors[cIdx]});\n      }\n      return cMap;\n    }, {index: [], hash: {}, list: []});\n  };\n\n  Radar.prototype.drawAxes = function() {\n    var vm = this,\n      svg = vm._chart._svg,\n      duration = vm._config.transitionDuration,\n      selection;\n\n    selection = svg.selectAll('line.axis')\n      .data(vm._axesData.list, function(d) { return d.axis; });\n\n    selection.enter()\n      .append('line')\n      .classed('axis', true)\n      .attr('x1', vm._center.x)\n      .attr('y1', vm._center.y)\n      .style('stroke', 'gray')\n      .attr('x2', vm._center.x)\n      .attr('y2', vm._center.y)\n      .transition()\n      .duration(duration)\n      .attr('x2', function(d) {\n        return vm.xOf(d.rads, vm._radius + 8);\n      })\n      .attr('y2', function(d) {\n        return vm.yOf(d.rads, vm._radius + 8);\n      });\n\n    selection\n      .transition()\n      .duration(duration)\n      .attr('x2', function(d) {\n        return vm.xOf(d.rads, vm._radius + 8);\n      })\n      .attr('y2', function(d) {\n        return vm.yOf(d.rads, vm._radius + 8);\n      });\n\n    selection.exit()\n      .transition()\n      .duration(duration)\n      .attr('x2', vm._center.x)\n      .attr('y2', vm._center.y)\n      .remove();\n  };\n\n  Radar.prototype.drawAxesLabels = function() {\n    var vm = this,\n      svg = vm._chart._svg,\n      duration = vm._config.transitionDuration,\n      fromCenter = vm._radius + vm._config.axisLabelMargin,\n      labels;\n\n    labels = svg.selectAll('text.axis-label')\n      .data(vm._axesData.list, function(d) { return d.axis; });\n\n    labels\n      .transition()\n      .duration(duration)\n      .attr('x', (d) => vm.xOf(d.rads, fromCenter))\n      .attr('y', (d) => vm.yOf(d.rads, fromCenter));\n\n    labels.enter()\n      .append('text')\n      .attr('class', 'axis-label')\n      .attr('text-anchor', 'middle')\n      .attr('fill', 'gray')\n      .style('font-family', 'sans-serif')\n      .text(function(d) { return d.axis; })\n      .attr('x', (d) => vm.xOf(d.rads, fromCenter))\n      .attr('y', (d) => vm.yOf(d.rads, fromCenter))\n      .attr('opacity', 0)\n      .transition()\n      .duration(duration)\n      .attr('opacity', 1);\n\n    labels.exit()\n      .transition()\n      .duration(duration)\n      .attr('opacity', 0)\n      .remove();\n  };\n\n  Radar.prototype.drawPolygons = function() {\n    var vm = this,\n      data = vm._viewData,\n      svg = vm._chart._svg,\n      duration = vm._config.transitionDuration,\n      groupedData,\n      gs, gsExit, gsEnter;\n\n    // Prepare the data.\n    groupedData = data.reduce(function(bundle, row) {\n      var polygIdx = bundle.keys.indexOf(row.polygon);\n      if(polygIdx == -1) {\n        polygIdx = bundle.keys.push(row.polygon) - 1;\n        bundle.polygons.push({\n          polygon: row.polygon,\n          color: row.color,\n          points: [],\n          values: []\n        });\n      }\n      bundle.polygons[polygIdx].values.push(row);\n      bundle.polygons[polygIdx].points.push(row.xy.join(','));\n      return bundle;\n    }, {keys: [], polygons:[]}).polygons;\n\n    gs = svg.selectAll('g.polygon-container')\n      .data(groupedData, function(d) { return d.polygon + '-container'; });\n\n    gsEnter = gs.enter()\n      .append('g')\n      .attr('class', 'polygon-container');\n\n    gsExit = gs.exit();\n    gsExit.transition().duration(duration).remove();\n\n    vm._buildNestedVertexes(gs, gsEnter, gsExit);\n    vm._buildNestedPolygons(gs, gsEnter, gsExit);\n  };\n\n  Radar.prototype._buildNestedVertexes = function(update, enter, exit) {\n    var vm = this,\n      duration = vm._config.transitionDuration,\n      selector = 'circle.vertex',\n      toUpdate;\n\n    function appendHelper(selection) {\n      selection\n        .append('circle')\n        .attr('class', 'vertex')\n        .attr('cx', vm._center.x)\n        .attr('cy', vm._center.y)\n        .attr('r', 4)\n        .attr('fill', function(d) { return d.color; })\n        .call(updateHelper);\n\n    }\n\n    function removeHelper(selection) {\n      selection\n        .transition()\n        .duration(duration)\n        .attr('cx', vm._center.x)\n        .attr('cy', vm._center.y)\n        .remove();\n    }\n\n    function updateHelper(selection) {\n      selection\n        .transition()\n        .duration(duration)\n        .attr('cx', function(d) { return d.xy[0]; })\n        .attr('cy', function(d) { return d.xy[1]; });\n    }\n\n    function dataFunc(d) { return d.values; }\n\n    function keyFunc(d) { return d.polygon + '-' + d.axis; }\n\n    toUpdate = update.selectAll(selector)\n      .data(dataFunc, keyFunc);\n\n    toUpdate\n      .call(updateHelper);\n\n    toUpdate.enter()\n      .call(appendHelper);\n\n    toUpdate.exit()\n      .call(removeHelper);\n\n    enter.selectAll(selector)\n      .data(dataFunc, keyFunc)\n      .enter()\n      .call(appendHelper);\n\n    exit.selectAll(selector)\n      .call(removeHelper);\n  };\n\n  Radar.prototype._buildNestedPolygons = function(update, enter, exit) {\n    var vm = this,\n      duration = vm._config.transitionDuration,\n      selector = 'polygon.category',\n      toUpdate;\n\n    // Used for the transitions where the polygons expand from\n    // or shrink to the center.\n    function centerPoints(data) {\n      var center = [vm._center.x, vm._center.y].join(',');\n      return data.points.map(function() {\n        // All polygon's points move to the center.\n        return center;\n      }).join(' ');\n    }\n\n    function appendHelper(selection) {\n      selection\n        .append('polygon')\n        .attr('class', 'category')\n        .attr('points', centerPoints)\n        .style('stroke', function(d) { return d.color; })\n        .style('fill', function(d) { return d.color; })\n        .style('fill-opacity', 0.4)\n        .style('stroke-width', '1px')\n        .call(updateHelper);\n\n    }\n\n    function removeHelper(selection) {\n      selection\n        .transition()\n        .duration(duration)\n        .attr('points', centerPoints)\n        .remove();\n    }\n\n    function updateHelper(selection) {\n      selection\n        .transition()\n        .duration(duration)\n        .attr('points', function(d) { return d.points.join(' '); });\n    }\n\n    function dataFunc(d) { return [d]; }\n\n    function keyFunc(d) { return d.polygon; }\n\n    toUpdate = update.selectAll(selector)\n      .data(dataFunc, keyFunc);\n\n    toUpdate\n      .call(updateHelper);\n\n    toUpdate.enter()\n      .call(appendHelper);\n\n    toUpdate.exit()\n      .call(removeHelper);\n\n    enter.selectAll(selector)\n      .data(dataFunc, keyFunc)\n      .enter()\n      .call(appendHelper);\n\n    exit.selectAll(selector)\n      .call(removeHelper);\n\n  };\n\n  Radar.prototype.drawLegend = function() {\n    var vm = this,\n      cMap = vm._colorMap.list,\n      svg = vm._chart._svg,\n      at = vm._config.legend.at,\n      side = 14,\n      margin = 4,\n      legend, newLegend;\n\n    legend = svg.selectAll('g.legend-item')\n      .data(cMap, function(d) { return d.polygon; });\n\n    newLegend = legend.enter()\n      .append('g')\n      .attr('class', 'legend-item');\n\n    newLegend\n      .append('text')\n      .text(d => d.polygon)\n      .attr('x', at.x + side + margin)\n      .attr('y', (d, i) => ((side + margin) * i) + at.y + side)\n      .style('font-family', 'sans-serif');\n\n    newLegend\n      .append('rect')\n      .attr('fill', d => d.color)\n      .attr('width', side)\n      .attr('height', side)\n      .attr('x', at.x)\n      .attr('y', (d, i) => ((side + margin) * i) + at.y);\n  };\n\n  Radar.prototype.xOf = function(rads, value) {\n    var vm = this;\n    return vm._center.x + (value * Math.cos(rads));\n  };\n\n  Radar.prototype.yOf = function(rads, value) {\n    var vm = this;\n    return vm._center.y + (value * Math.sin(rads));\n  };\n\n  Radar.prototype.minMax = function(data) {\n    var vm = this;\n    return data.reduce(function(minMax, row) {\n      var val = parseInt(row[vm._config.valuesFrom]);\n      if(minMax.length == 0) {\n        return [val, val];\n      }\n      return [\n        val < minMax[0] ? val : minMax[0],\n        val > minMax[1] ? val : minMax[1]\n      ];\n    }, []);\n  };\n\n  // Build the data with coords.\n  Radar.prototype.dataForVisualization = function(data) {\n    var vm = this,\n      scale = vm._scale,\n      axisKey = vm._config.axesFrom,\n      valKey = vm._config.valuesFrom,\n      polygKey = vm._config.polygonsFrom,\n      axesHash = vm._axesData.hash;\n\n    return data.map(function(row) {\n      var axis = row[axisKey],\n        rads = axesHash[axis].rads,\n        polygon = row[polygKey],\n        val = scale(row[valKey]);\n      return {\n        xy: [\n          vm.xOf(rads, val),\n          vm.yOf(rads, val)\n        ],\n        value: val,\n        polygon: polygon,\n        axis: axis,\n        color: vm._colorMap.hash[polygon],\n        rawData: row\n      };\n    });\n  };\n\n  Radar.prototype.filter = function(fun) {\n    var vm = this;\n    vm._filter = fun;\n    return vm;\n  };\n\n  // DBOX internals.\n\n  Radar.prototype.chart = function(chart) {\n    var vm = this;\n    vm._chart = chart;\n    return vm;\n  };\n\n  Radar.prototype.data = function(data) {\n    var vm = this;\n    vm._data = data;\n    return vm;\n  };\n\n  Radar.prototype.scales = function(scales) {\n    var vm = this;\n    vm._scales = scales;\n    // We only need one scale.\n    vm._scale = vm._scales.x;\n    vm._scale.range([0, vm._radius]);\n    return vm;\n  };\n\n  Radar.prototype.axes = function(axes) {\n    var vm = this;\n    // TODO Do nothing?\n    return vm;\n  };\n\n  Radar.prototype.domains = function() {\n    var vm = this;\n    vm._calcDomains(vm._data);\n    return vm;\n  };\n\n  Radar.prototype._calcDomains = function(data) {\n    var vm = this;\n    vm._minMax = vm.minMax(data);\n    vm._scale.domain(vm._minMax);\n    vm._ticks = vm._scale.ticks(vm._config.ticks);\n    // Exclude 0 from ticks if it is the first element.\n    // We don't need to have the 0 actually rendered.\n    if(vm._ticks.length > 0 && vm._ticks[0] === 0) {\n      vm._ticks = vm._ticks.slice(1);\n    }\n  };\n\n  Radar.prototype.draw = function() {\n    var vm = this,\n      data = vm._data;\n\n    // Build the color map previusly to filtering in order to keep the\n    // association between colors and polygons even when some of them (the\n    // polygons) have been filtered out.\n    vm._colorMap = vm.buildColorMap(data);\n\n    if(typeof vm._filter === 'function') {\n      data = data.filter(vm._filter);\n    }\n    vm._calcDomains(data);\n    vm._axesData = vm.extractAxes(data);\n    vm._viewData = vm.dataForVisualization(data);\n\n    vm.drawTicks();\n    vm.drawAxes();\n    vm.drawAxesLabels();\n    vm.drawTicksLabels();\n    vm.drawPolygons();\n    vm.drawLegend();\n  };\n\n  return new Radar(config);\n\n}\n","/*\n * Dboxjs\n *\n * You can import other modules here, including external packages. When\n * bundling using rollup you can mark those modules as external and have them\n * excluded or, if they have a jsnext:main entry in their package.json (like\n * this package does), let rollup bundle them into your dist file.\n */\n\n/* Core */\nexport {\n  default as chart,\n} from \"./chart/chart\";\n\n/* Chart objects */\nexport {\n  default as scatter,\n} from \"./scatter/scatter\";\n\nexport {\n  default as timeline,\n} from \"./timeline/timeline\";\n\nexport {\n  default as heatmap,\n} from \"./heatmap/heatmap\";\n\nexport {\n  default as treemap,\n} from \"./treemap/treemap\";\n\n/*export {\n  default as MexicoMapRounded\n} from \"./map/mexicoMapRounded\";*/\n\nexport {\n  default as bars\n} from \"./bars/barchart.js\"\n\n/*export {\n  default as stackBar,\n} from \"./stackBar/stackBar.js\"*/\n\n\n/*export {\n  default as map\n} from \"./map/map.js\"*/\n\n\nexport {\n  default as radar\n} from \"@dboxjs/dbox-radar\""],"names":["carto","query","config","callback","sql","cartodb","user","execute","done","data","result","rows","parser","map","error","Chart","vm","defaultConfig","size","width","height","margin","left","right","top","bottom","_config","_","cloneDeep","_data","_margin","_width","_height","_svg","_scales","_axes","layers","prototype","sizeObj","Number","grid","bool","bindTo","selector","layer","_layer","undefined","chart","push","getLayer","layerIndex","draw","q","scales","axes","loadData","await","drawSVG","drawGraphs","drawAxes","events","load","dispatch","on","xAxis","scale","x","d3","scaleLinear","range","scaleTime","scaleOrdinal","scaleQuantile","buckets","yAxis","y","color","schemeCategory10","generateScale","domains","extent","d","column","minZero","max","type","rangeRound","domain","scaleBand","padding","bins","axisBottom","axisLeft","ticks","enabled","style","tickSize","format","tickFormat","tsv","queue","defer","json","csv","raw","mapData","plotOptions","bars","averageLines","Array","isArray","length","forEach","l","select","remove","html","template","classed","title","append","attr","legend","enable","position","categories","c","background","legendBottom","drawGrid","call","text","fill","dropdown","xAxisDropDown","updateAxis","value","selectAll","options","enter","property","selected","yAxisDropDown","node","getBoundingClientRect","_chart","gr","getDomains","minMax","sorted","sortFunctionY","a","b","ascending","sortFunctionX","sort","order","descending","axis","keys","destroy","Scatter","_tip","col","radius","radiusRange","properties","colors","opacity","tip","end","m","slice","p","s","xMinMax","yMinMax","radiusMinMax","arrOk","fixTo45","nice","circles","i","id","mouseover","show","mouseout","hide","onclick","parseDate","Timeline","area","_line","curve","_area","alreadyScaled","y1","series","arr","timeParse","_lines","name","_xMinMax","_yMinMax","values","v","lines","path","y0","areas","pathArea","Heatmap","_gridSize","Math","floor","_legendElementWidth","_format","columns","edad_mujer","edad_hombre","tot","por","_dayLabels","_timeLabels","colorScale","cards","indexOf","transition","duration","ease","Treemap","_padding","_colorScale","_labels","direction","_size","arrayOfColors","nestBy","_keys","String","toString","warning","_labelName","Function","labels","Boolean","isValidStructure","datum","children","res","child","formatNestedData","key","nestKey","nest","nested","awaitAll","nestedData","rollup","leaves","entries","aux","err","treemap","tile","round","paddingInner","root","eachBefore","parent","sum","cell","x0","rect","x1","replace","split","join","Bars","columnName","tickValues","axisY","bandwidth","Radar","CIRCLE_RADIANS","PI","RADIANS_TO_ROTATE","_axesData","_filter","_minMax","_viewData","_colorMap","_ticks","_scale","transitionDuration","axisLabelMargin","at","_center","_radius","min","polygonsFrom","axesFrom","valuesFrom","drawTicks","svg","dur","sel","exit","drawTicksLabels","extractAxes","radiansPerAxis","reduce","prev","item","concat","idx","hashed","el","buildColorMap","cMap","row","polyg","cIdx","index","hash","list","polygon","selection","xOf","rads","yOf","drawAxesLabels","fromCenter","drawPolygons","groupedData","gs","gsExit","gsEnter","bundle","polygIdx","polygons","points","xy","_buildNestedVertexes","_buildNestedPolygons","update","toUpdate","appendHelper","updateHelper","removeHelper","dataFunc","keyFunc","centerPoints","center","drawLegend","side","newLegend","cos","sin","val","parseInt","dataForVisualization","axisKey","valKey","polygKey","axesHash","filter","fun","_calcDomains"],"mappings":"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"}